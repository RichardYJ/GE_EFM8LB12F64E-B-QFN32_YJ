C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 1   


C51 COMPILER V9.53.0.0, COMPILATION OF MODULE GE_EFM8LB12F64E_B_QFN32_YJ_MAIN
OBJECT MODULE PLACED IN .\src\GE_EFM8LB12F64E-B-QFN32_YJ_main.OBJ
COMPILER INVOKED BY: c:\SiliconLabs\SimplicityStudio\v4\developer\toolchains\keil_8051\9.53\BIN\C51.exe D:\WorkSpace\MyC
                    -ode\GE_EFM8LB12F64E-B-QFN32_YJ\GE_EFM8LB12F64E-B-QFN32_YJ\src\GE_EFM8LB12F64E-B-QFN32_YJ_main.c OMF2 LARGE DEBUG OBJECTE
                    -XTEND ROM(LARGE) WARNINGLEVEL(2) FLOATFUZZY(3) OPTIMIZE(8,SPEED) DEFINE(DEBUG=1) INTVECTOR(0X0000) INTPROMOTE INCDIR(D:\
                    -WorkSpace\MyCode\GE_EFM8LB12F64E-B-QFN32_YJ\GE_EFM8LB12F64E-B-QFN32_YJ\inc;C:/SiliconLabs/SimplicityStudio/v4/developer/
                    -sdks/8051/v4.1.1//Device/shared/si8051base;C:/SiliconLabs/SimplicityStudio/v4/developer/sdks/8051/v4.1.1//Device/EFM8LB1
                    -/inc) PRINT(.\src\GE_EFM8LB12F64E-B-QFN32_YJ_main.lst) COND PAGEWIDTH(120) PAGELENGTH(65) OBJECT(.\src\GE_EFM8LB12F64E-B
                    --QFN32_YJ_main.OBJ)

line level    source

   1          //-----------------------------------------------------------------------------
   2          // EFM8LB1_SMBus_MasterMultibyte.c
   3          //-----------------------------------------------------------------------------
   4          // Copyright 2014 Silicon Laboratories, Inc.
   5          // http://developer.silabs.com/legal/version/v11/Silicon_Labs_Software_License_Agreement.txt
   6          //
   7          // Program Description:
   8          //
   9          // Example software to demonstrate the SMBus interface in Master mode.
  10          // - Interrupt-driven SMBus implementation
  11          // - Only master states defined (no slave or arbitration)
  12          // - multiple-byte SMBus data holders used for each transmit and receive
  13          // - SCL frequency defined by <SMB_FREQUENCY> constant
  14          // - SMB0CN0_ARBLOST support included
  15          // - supports multiple-byte writes and multiple-byte reads
  16          //
  17          // Resources:
  18          //   SYSCLK - 24.5 MHz HFOSC0 / 1
  19          //   SMBus  - SMBus master, SCL = 10 kHz
  20          //   Timer1 - SMBus clock source
  21          //   Timer3 - SMBus SCL low timeout detection
  22          //   P0.0   - SMBus SDA
  23          //   P0.1   - SMBus SCL
  24          //   P1.4   - LED green
  25          //   P3.4   - Display enable
  26          //
  27          //-----------------------------------------------------------------------------
  28          // How To Test: EFM8LB1 STK (SMBus Master) + EFM8LB1 STK (SMBus Slave)
  29          //-----------------------------------------------------------------------------
  30          // 1) Connect the device first EFM8LB1 STK to second EFM8LB1 STK running the
  31          //    corresponding SMBus_Slave code.
  32          // 2) Place the switch in "AEM" mode.
  33          // 3) Connect the EFM8LB1 STK board to a PC using a mini USB cable.
  34          // 4) Compile and download code to the first EFM8LB1 STK board.
  35          //    In Simplicity Studio IDE, select Run -> Debug from the menu bar,
  36          //    click the Debug button in the quick menu, or press F11.
  37          // 5) Run the code.
  38          //    In Simplicity Studio IDE, select Run -> Resume from the menu bar,
  39          //    click the Resume button in the quick menu, or press F8.
  40          // 6) a. The test will indicate proper communication with the slave by
  41          //       toggling LED1 on and off each time a value is sent and received.
  42          //    b. The best method to view the proper functionality is to run to
  43          //       the indicated line of code in the TEST CODE section of main and
  44          //       view the SMB_DATA_IN and SMB_DATA_OUT variables in the Watch
  45          //       Window.
  46          //
  47          // Target:         EFM8LB1
  48          // Tool chain:     Generic
  49          //
  50          // Release 0.1 (ST)
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 2   

  51          //    - Initial Revision
  52          //    - 06 MAR 2015
  53          //
  54          
  55          //-----------------------------------------------------------------------------
  56          // Includes
  57          //-----------------------------------------------------------------------------
  58          #include "bsp.h"
  59          #include "uart_1.h"
  60          #include "InitDevice.h"
  61          #include <stdio.h>
  62          
  63          #include <SI_EFM8LB1_Register_Enums.h>                  // SFR declarations
  64          #include "InitDevice.h"
  65          #include "EFM8LB1_SMBus_MasterMultibyte.h"
  66          #include "EFM8LB1_I2C_Slave.h"
  67          #include <string.h>
  68          #include "EFM8LB1_FlashPrimitives.h"
  69          
  70          //#define TEST_I2C2
  71          #define MY_PRINTF_EN 0
  72          #define DYCALCC 1
  73          #define ONE ((uint16_t)1)
  74          #define SCALE                     100L // Scale for temp calculations
  75          #define ABS(num) (num < 0 ? -num: num)
  76          
  77          
  78          extern uint8_t EEPROM_Buffer[];
  79          
  80          //-----------------------------------------------------------------------------
  81          // Global Variables
  82          //-----------------------------------------------------------------------------
  83          // Global holder for SMBus data
  84          // All receive data is written here
  85          uint8_t SMB_DATA_IN[NUM_BYTES_RD];
  86          
  87          // Global holder for SMBus data.
  88          // All transmit data is read from here
  89          uint8_t SMB_DATA_OUT[NUM_BYTES_WR];
  90          
  91          uint8_t TARGET;                        // Target SMBus slave address
  92          
  93          #define TEMP_CAL_ADDRESS_LOW    0xFFD4  // Address in flash where the
  94                                                  // temp cal low byte value is stored
  95          
  96          #define TEMP_CAL_ADDRESS_HIGH   0xFFD5  // Address in flash where the
  97                                                  // temp cal high byte value is stored
  98          
  99          // Calibration value for the temperature sensor at 0 degrees C, stored in CODE space
 100          SI_LOCATED_VARIABLE_NO_INIT(TEMPSENSOR_0C_LOW, uint8_t const, SI_SEG_CODE, TEMP_CAL_ADDRESS_LOW);
 101          SI_LOCATED_VARIABLE_NO_INIT(TEMPSENSOR_0C_HIGH, uint8_t const, SI_SEG_CODE, TEMP_CAL_ADDRESS_HIGH);
 102          
 103          
 104          
 105          volatile bool SMB_BUSY;                 // Software flag to indicate when the
 106          // SMB_Read() or SMB_Write() functions
 107          // have claimed the SMBus
 108          
 109          volatile bool SMB_RW;                   // Software flag to indicate the
 110          // direction of the current transfer
 111          
 112          uint16_t NUM_ERRORS;                   // Counter for the number of errors.
 113          volatile uint8_t nWR;
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 3   

 114          
 115          uint8_t i2cReceivedData;               // Global holder for I2C data.
 116          // All receive data is written
 117          // here;
 118          
 119          bool dataReady = 0;                    // Set to '1' by the I2C ISR
 120          // when a new data byte has been
 121          // received.
 122          
 123          bool txDataReady = 1;                 // Set to '1' indicate that Tx data ready.
 124          uint8_t sendDataValue = 0;          // Transmit the data value 0-255 repeatedly.
 125          uint8_t sendDataCnt = 0;             // Transmit data counter. Count the Tx data
 126          bool CONV_COMPLETE = 0;                 // ADC result ready flag
 127          extern bool bTx_4th_byte_nack;
 128          uint32_t ADC_AVG = 0;                  // The Averaged ADC temp sensor result
 129          
 130          // in a I2C transaction.
 131          
 132          ///////////////////////////////////////////////////////////////////////////////////////////////
 133          consts uint8_t fw_content[] = { 
 134          // /*   
 135           0xC2,0xED ,0x01 ,0x00 ,0xC7 ,0xF8 ,0x00 ,0x00 ,0x01 ,0x00 ,0x01 ,0x00 ,0x00 ,0x00 ,0x1A ,0x58 
 136          ,0x01,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x0F ,0xD0 ,0x00 ,0x00 ,0x0F ,0xD0 ,0x00 ,0x00 ,0x0F ,0xD0 
 137          ,0x00,0x00 ,0x0F ,0xD0 ,0x00 ,0x00 ,0x0F ,0xD0 ,0x00 ,0x00 ,0x0F ,0xD0 ,0x00 ,0x00 ,0x0F ,0xD0 
 138          ,0x00,0x00 ,0x0F ,0xD0 ,0x00 ,0x00 ,0x0F ,0xD0 ,0x00 ,0x00 ,0x0F ,0xD0 ,0x00 ,0x00 ,0x0F ,0xD0 
 139          ,0x00,0x00 ,0x0F ,0xD0 ,0x00 ,0x00 ,0x0F ,0xD0 ,0x00 ,0x00 ,0x0F ,0xD0 ,0x00 ,0x00 ,0x00 ,0x00 
 140          ,0x00,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x01 ,0x00 ,0x05 ,0x04 
 141          ,0x00,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 
 142          ,0x00,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x01 ,0x00 ,0x05 ,0x9C 
 143          ,0x01,0x00 ,0x06 ,0x44 ,0x01 ,0x00 ,0x06 ,0x6C ,0x04 ,0x00 ,0x00 ,0x40 ,0x01 ,0xF4 ,0x01 ,0x00 
 144          ,0x00,0x20 ,0x00 ,0x04 ,0x00 ,0x02 ,0x01 ,0xF4 ,0x02 ,0x00 ,0x00 ,0x02 ,0x00 ,0x01 ,0xFF ,0xFC 
 145          ,0x00,0x01 ,0x00 ,0x06 ,0x00 ,0x0A ,0x00 ,0x06 ,0x00 ,0x05 ,0x00 ,0x05 ,0x00 ,0x3B ,0x00 ,0x1E 
 146          ,0x00,0x01 ,0x00 ,0x0A ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x01 ,0x00 ,0x00 ,0x03 
 147          ,0x00,0x4B ,0x00 ,0x32 ,0x01 ,0x90 ,0x05 ,0x06 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 
 148          ,0x00,0x00 ,0x00 ,0x98 ,0x10 ,0x00 ,0xA9 ,0x89 ,0x10 ,0x0D ,0xCB ,0xAB ,0x10 ,0x00 ,0xDC ,0xBC 
 149          ,0x10,0x06 ,0x5D ,0xCD ,0x00 ,0x00 ,0x06 ,0x5D ,0x00 ,0x00 ,0x00 ,0x76 ,0x00 ,0x00 ,0x00 ,0x00 
 150          ,0x00,0x00 ,0x02 ,0x10 ,0x00 ,0x03 ,0x2F ,0x01 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x01 ,0x03 ,0xE8 
 151          ,0x02,0x00 ,0x01 ,0x80 ,0x00 ,0x20 ,0x06 ,0x06 ,0x00 ,0x14 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 
 152          ,0x00,0x00 ,0x00 ,0x00 ,0x18 ,0x20 ,0x01 ,0x00 ,0x00 ,0x00 ,0x01 ,0x73 ,0xA8 ,0x21 ,0x1D ,0x58 
 153          ,0x9C,0x21 ,0xFF ,0xE0 ,0xB8 ,0x64 ,0x00 ,0x82 ,0xD4 ,0x01 ,0x10 ,0x04 ,0xA8 ,0x40 ,0x98 ,0x05 
 154          ,0xAC,0x84 ,0xFF ,0xFF ,0xD4 ,0x01 ,0xB0 ,0x14 ,0xE2 ,0xC3 ,0x10 ,0x00 ,0x9C ,0x40 ,0x00 ,0x01 
 155          ,0xA4,0x84 ,0x00 ,0x03 ,0xE0 ,0x42 ,0x18 ,0x02 ,0xD4 ,0x01 ,0xA0 ,0x10 ,0xE2 ,0x84 ,0x20 ,0x00 
 156          ,0xB8,0x42 ,0x00 ,0x08 ,0xD4 ,0x01 ,0x70 ,0x08 ,0xE2 ,0x94 ,0x20 ,0x00 ,0x9D ,0xC0 ,0x00 ,0x00 
 157          ,0xD4,0x01 ,0x90 ,0x0C ,0xD4 ,0x01 ,0xC0 ,0x18 ,0xD4 ,0x01 ,0x48 ,0x1C ,0xD4 ,0x01 ,0x08 ,0x00 
 158          ,0x9E,0x94 ,0x00 ,0x04 ,0xE0 ,0x44 ,0x10 ,0x00 ,0x9F ,0x00 ,0x00 ,0x0A ,0xAA ,0x4E ,0x00 ,0x00 
 159          ,0x07,0xC0 ,0x04 ,0xE0 ,0xA8 ,0x76 ,0x00 ,0x00 ,0xE1 ,0x6B ,0xA0 ,0x48 ,0x18 ,0x60 ,0x00 ,0x00 
 160          ,0x8C,0xB7 ,0x00 ,0x3E ,0xA8 ,0x63 ,0x2D ,0xF0 ,0xA5 ,0x6B ,0x00 ,0x07 ,0xE1 ,0x6B ,0x18 ,0x00 
 161          ,0x8C,0x8B ,0x00 ,0x00 ,0xE5 ,0x64 ,0x28 ,0x00 ,0x10 ,0x00 ,0x00 ,0x07 ,0xA8 ,0x77 ,0x00 ,0x00 
 162          ,0xE0,0xA5 ,0x20 ,0x02 ,0xE5 ,0x72 ,0x28 ,0x00 ,0x10 ,0x00 ,0x00 ,0x03 ,0x15 ,0x00 ,0x00 ,0x00 
 163          ,0xAA,0x45 ,0x00 ,0x00 ,0x8C ,0x63 ,0x00 ,0x3F ,0xE5 ,0xA4 ,0x18 ,0x00 ,0x10 ,0x00 ,0x00 ,0x06 
 164          ,0xE0,0x84 ,0x18 ,0x02 ,0xE5 ,0x6E ,0x20 ,0x00 ,0x10 ,0x00 ,0x00 ,0x03 ,0x15 ,0x00 ,0x00 ,0x00 
 165          ,0xA9,0xC4 ,0x00 ,0x00 ,0x9F ,0x18 ,0xFF ,0xFF ,0xBC ,0x38 ,0x00 ,0x00 ,0x13 ,0xFF ,0xFF ,0xE5 
 166          ,0x15,0x00 ,0x00 ,0x00 ,0x9E ,0x52 ,0xFF ,0xFF ,0xBC ,0x32 ,0xFF ,0xFF ,0x0C ,0x00 ,0x00 ,0x06 
 167          ,0xA8,0x60 ,0x98 ,0x04 ,0x07 ,0xC0 ,0x04 ,0xD3 ,0xA8 ,0x82 ,0x00 ,0x00 ,0x03 ,0xFF ,0xFF ,0xFB 
 168          ,0x9E,0x52 ,0xFF ,0xFF ,0x9C ,0x42 ,0x00 ,0x04 ,0x9D ,0xCE ,0xFF ,0xFF ,0xBC ,0x2E ,0xFF ,0xFF 
 169          ,0x0C,0x00 ,0x00 ,0x06 ,0xA8 ,0x60 ,0x98 ,0x04 ,0x07 ,0xC0 ,0x04 ,0xCA ,0xA8 ,0x82 ,0x00 ,0x00 
 170          ,0x03,0xFF ,0xFF ,0xFB ,0x9D ,0xCE ,0xFF ,0xFF ,0x85 ,0x21 ,0x00 ,0x1C ,0x84 ,0x21 ,0x00 ,0x00 
 171          ,0x84,0x41 ,0x00 ,0x04 ,0x85 ,0xC1 ,0x00 ,0x08 ,0x86 ,0x41 ,0x00 ,0x0C ,0x86 ,0x81 ,0x00 ,0x10 
 172          ,0x86,0xC1 ,0x00 ,0x14 ,0x87 ,0x01 ,0x00 ,0x18 ,0x44 ,0x00 ,0x48 ,0x00 ,0x9C ,0x21 ,0x00 ,0x20 
 173          ,0x9C,0x21 ,0xFF ,0xE8 ,0xD4 ,0x01 ,0x70 ,0x08 ,0xD4 ,0x01 ,0x48 ,0x14 ,0xD4 ,0x01 ,0x08 ,0x00 
 174          ,0xD4,0x01 ,0x10 ,0x04 ,0xD4 ,0x01 ,0x90 ,0x0C ,0xD4 ,0x01 ,0xA0 ,0x10 ,0xA9 ,0xC3 ,0x00 ,0x00 
 175          ,0x94,0x6E ,0x00 ,0x00 ,0xBC ,0x23 ,0x00 ,0x00 ,0x0C ,0x00 ,0x00 ,0x16 ,0xA4 ,0x43 ,0x0F ,0x00 
 176          ,0xBC,0x22 ,0x08 ,0x00 ,0x10 ,0x00 ,0x00 ,0x0E ,0x96 ,0x8E ,0x00 ,0x02 ,0x9E ,0x40 ,0x00 ,0x00 
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 4   

 177          ,0xA4,0x43 ,0xF0 ,0xFF ,0xA8 ,0x80 ,0xFF ,0xFF ,0xE0 ,0x62 ,0x90 ,0x00 ,0xA8 ,0xB4 ,0x00 ,0x00 
 178          ,0x07,0xC0 ,0x04 ,0x9F ,0x9E ,0x52 ,0x01 ,0x00 ,0xBC ,0x32 ,0x08 ,0x00 ,0x13 ,0xFF ,0xFF ,0xFB 
 179          ,0xA8,0x80 ,0xFF ,0xFF ,0x03 ,0xFF ,0xFF ,0xEF ,0x9D ,0xCE ,0x00 ,0x04 ,0xA8 ,0x80 ,0xFF ,0xFF 
 180          ,0x07,0xC0 ,0x04 ,0x97 ,0xA8 ,0xB4 ,0x00 ,0x00 ,0x03 ,0xFF ,0xFF ,0xEA ,0x9D ,0xCE ,0x00 ,0x04 
 181          ,0x85,0x21 ,0x00 ,0x14 ,0x84 ,0x21 ,0x00 ,0x00 ,0x84 ,0x41 ,0x00 ,0x04 ,0x85 ,0xC1 ,0x00 ,0x08 
 182          ,0x86,0x41 ,0x00 ,0x0C ,0x86 ,0x81 ,0x00 ,0x10 ,0x44 ,0x00 ,0x48 ,0x00 ,0x9C ,0x21 ,0x00 ,0x18 
 183          ,0x9C,0xA0 ,0x00 ,0x01 ,0x9C ,0x21 ,0xFF ,0xF4 ,0xE0 ,0x85 ,0x20 ,0x08 ,0xD4 ,0x01 ,0x10 ,0x04 
 184          ,0xA8,0x43 ,0x00 ,0x00 ,0xA8 ,0x60 ,0x98 ,0x11 ,0xA8 ,0xA4 ,0x00 ,0x00 ,0xD4 ,0x01 ,0x48 ,0x08 
 185          ,0x07,0xC0 ,0x04 ,0x83 ,0xD4 ,0x01 ,0x08 ,0x00 ,0xB4 ,0x60 ,0x50 ,0x01 ,0xD4 ,0x02 ,0x18 ,0x08 
 186          ,0x9C,0x60 ,0x00 ,0x00 ,0xDC ,0x02 ,0x18 ,0x1A ,0x85 ,0x21 ,0x00 ,0x08 ,0x84 ,0x21 ,0x00 ,0x00 
 187          ,0x84,0x41 ,0x00 ,0x04 ,0x44 ,0x00 ,0x48 ,0x00 ,0x9C ,0x21 ,0x00 ,0x0C ,0xA4 ,0xA4 ,0x00 ,0x07 
 188          ,0x9C,0x21 ,0xFF ,0xF0 ,0xB8 ,0xA5 ,0x00 ,0x0B ,0xD4 ,0x01 ,0x10 ,0x04 ,0x9C ,0xC0 ,0x38 ,0x00 
 189          ,0xA8,0x44 ,0x00 ,0x00 ,0x9C ,0x80 ,0x00 ,0x4E ,0xD4 ,0x01 ,0x70 ,0x08 ,0xD4 ,0x01 ,0x48 ,0x0C 
 190          ,0xA9,0xC3 ,0x00 ,0x00 ,0x07 ,0xC0 ,0x07 ,0x83 ,0xD4 ,0x01 ,0x08 ,0x00 ,0xA4 ,0xA2 ,0x00 ,0x08 
 191          ,0xA8,0x6E ,0x00 ,0x00 ,0xBC ,0x05 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x03 ,0x9C ,0x80 ,0x00 ,0xDF 
 192          ,0x9C,0xA0 ,0x00 ,0x22 ,0x07 ,0xC0 ,0x07 ,0x7B ,0x9C ,0xC0 ,0x00 ,0xE2 ,0x85 ,0x21 ,0x00 ,0x0C 
 193          ,0x84,0x21 ,0x00 ,0x00 ,0x84 ,0x41 ,0x00 ,0x04 ,0x85 ,0xC1 ,0x00 ,0x08 ,0x44 ,0x00 ,0x48 ,0x00 
 194          ,0x9C,0x21 ,0x00 ,0x10 ,0x9C ,0x21 ,0xFF ,0xEC ,0xD4 ,0x01 ,0x10 ,0x04 ,0xD4 ,0x01 ,0x70 ,0x08 
 195          ,0xD4,0x01 ,0x48 ,0x10 ,0xD4 ,0x01 ,0x08 ,0x00 ,0xD4 ,0x01 ,0x90 ,0x0C ,0xA8 ,0x43 ,0x00 ,0x00 
 196          ,0x8E,0x43 ,0x00 ,0x14 ,0x8C ,0xA3 ,0x00 ,0x0C ,0xA6 ,0x52 ,0x00 ,0x07 ,0xE5 ,0x72 ,0x28 ,0x00 
 197          ,0x10,0x00 ,0x00 ,0x04 ,0xA9 ,0xC4 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x05 ,0x9C ,0xA5 ,0xFF ,0xFF 
 198          ,0xE5,0xB2 ,0x28 ,0x00 ,0x10 ,0x00 ,0x00 ,0x03 ,0x9C ,0xA5 ,0x00 ,0x01 ,0xD8 ,0x02 ,0x28 ,0x0C 
 199          ,0x8C,0xA2 ,0x00 ,0x0C ,0xA4 ,0xA5 ,0x00 ,0x07 ,0xA8 ,0x6E ,0x00 ,0x00 ,0xB8 ,0xA5 ,0x00 ,0x0B 
 200          ,0x9C,0x80 ,0x00 ,0x4E ,0x07 ,0xC0 ,0x07 ,0x5B ,0x9C ,0xC0 ,0x38 ,0x00 ,0x8C ,0x62 ,0x00 ,0x0C 
 201          ,0xE4,0x23 ,0x90 ,0x00 ,0x10 ,0x00 ,0x00 ,0x15 ,0x85 ,0x21 ,0x00 ,0x10 ,0x8C ,0x82 ,0x00 ,0x14 
 202          ,0x07,0xFF ,0xFF ,0xC7 ,0xA8 ,0x6E ,0x00 ,0x00 ,0xA8 ,0x6E ,0x00 ,0x00 ,0x9C ,0xA0 ,0x02 ,0x00 
 203          ,0x9C,0xC0 ,0x3F ,0x80 ,0x07 ,0xC0 ,0x07 ,0x4F ,0x9C ,0x80 ,0x00 ,0x01 ,0xA8 ,0x62 ,0x00 ,0x00 
 204          ,0x07,0xFF ,0xFF ,0xAC ,0xA8 ,0x8E ,0x00 ,0x00 ,0xB4 ,0x60 ,0x50 ,0x01 ,0xD4 ,0x02 ,0x18 ,0x08 
 205          ,0x9C,0x60 ,0x00 ,0x1E ,0xA8 ,0x8E ,0x00 ,0x00 ,0xD8 ,0x02 ,0x18 ,0x0E ,0x07 ,0xFF ,0xFF ,0x2D 
 206          ,0xA8,0x62 ,0x00 ,0x00 ,0x85 ,0x21 ,0x00 ,0x10 ,0x84 ,0x21 ,0x00 ,0x00 ,0x84 ,0x41 ,0x00 ,0x04 
 207          ,0x85,0xC1 ,0x00 ,0x08 ,0x86 ,0x41 ,0x00 ,0x0C ,0x44 ,0x00 ,0x48 ,0x00 ,0x9C ,0x21 ,0x00 ,0x14 
 208          ,0x9C,0x21 ,0xFF ,0xF0 ,0xD4 ,0x01 ,0x48 ,0x0C ,0xD4 ,0x01 ,0x08 ,0x00 ,0xD4 ,0x01 ,0x10 ,0x04 
 209          ,0xD4,0x01 ,0x70 ,0x08 ,0x99 ,0xC3 ,0x00 ,0x1A ,0xBC ,0x0E ,0x00 ,0x00 ,0x0C ,0x00 ,0x00 ,0x16 
 210          ,0x85,0x21 ,0x00 ,0x0C ,0xB4 ,0x40 ,0x50 ,0x01 ,0x84 ,0xA3 ,0x00 ,0x08 ,0xE0 ,0x42 ,0x28 ,0x02 
 211          ,0x98,0xB7 ,0x00 ,0x1C ,0xB8 ,0x42 ,0x00 ,0x59 ,0xE4 ,0x82 ,0x28 ,0x00 ,0x10 ,0x00 ,0x00 ,0x0E 
 212          ,0x85,0x21 ,0x00 ,0x0C ,0xA8 ,0x43 ,0x00 ,0x00 ,0x18 ,0x60 ,0x01 ,0x00 ,0x07 ,0xC0 ,0x08 ,0x06 
 213          ,0xA8,0x63 ,0x1A ,0x48 ,0x9C ,0x60 ,0x00 ,0x01 ,0xDC ,0x02 ,0x18 ,0x1A ,0x8C ,0x62 ,0x00 ,0x0F 
 214          ,0xBC,0x03 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x04 ,0x85 ,0x21 ,0x00 ,0x0C ,0xD8 ,0x02 ,0x70 ,0x0E 
 215          ,0x85,0x21 ,0x00 ,0x0C ,0x84 ,0x21 ,0x00 ,0x00 ,0x84 ,0x41 ,0x00 ,0x04 ,0x85 ,0xC1 ,0x00 ,0x08 
 216          ,0x44,0x00 ,0x48 ,0x00 ,0x9C ,0x21 ,0x00 ,0x10 ,0xB8 ,0x63 ,0x00 ,0x84 ,0x9C ,0x21 ,0xFF ,0xF4 
 217          ,0xD4,0x01 ,0x10 ,0x04 ,0xA4 ,0x43 ,0x00 ,0x0F ,0xD4 ,0x01 ,0x48 ,0x08 ,0xBC ,0x02 ,0x00 ,0x02 
 218          ,0x10,0x00 ,0x00 ,0x13 ,0xD4 ,0x01 ,0x08 ,0x00 ,0xBC ,0x02 ,0x00 ,0x03 ,0x10 ,0x00 ,0x00 ,0x09 
 219          ,0xBC,0x02 ,0x00 ,0x00 ,0x0C ,0x00 ,0x00 ,0x0A ,0x18 ,0x60 ,0x01 ,0x00 ,0x07 ,0xFF ,0xFF ,0x45 
 220          ,0xA8,0x63 ,0x18 ,0x64 ,0x9C ,0x60 ,0x00 ,0x05 ,0x00 ,0x00 ,0x00 ,0x0F ,0xA8 ,0x82 ,0x00 ,0x00 
 221          ,0x18,0x60 ,0x01 ,0x00 ,0x00 ,0x00 ,0x00 ,0x08 ,0xA8 ,0x63 ,0x18 ,0xFC ,0x07 ,0xC0 ,0x02 ,0xF1 
 222          ,0x9C,0x60 ,0x00 ,0x02 ,0x00 ,0x00 ,0x00 ,0x0B ,0x85 ,0x21 ,0x00 ,0x08 ,0x18 ,0x60 ,0x01 ,0x00 
 223          ,0xA8,0x63 ,0x19 ,0xA4 ,0x07 ,0xFF ,0xFF ,0x37 ,0x15 ,0x00 ,0x00 ,0x00 ,0x9C ,0x60 ,0x00 ,0x05 
 224          ,0x9C,0x80 ,0x00 ,0x00 ,0x07 ,0xC0 ,0x02 ,0xEA ,0x15 ,0x00 ,0x00 ,0x00 ,0x85 ,0x21 ,0x00 ,0x08 
 225          ,0x84,0x21 ,0x00 ,0x00 ,0x84 ,0x41 ,0x00 ,0x04 ,0x44 ,0x00 ,0x48 ,0x00 ,0x9C ,0x21 ,0x00 ,0x0C 
 226          ,0x9C,0x21 ,0xFF ,0xF8 ,0xA4 ,0x83 ,0x00 ,0xFF ,0xD4 ,0x01 ,0x48 ,0x04 ,0xBC ,0x04 ,0x00 ,0x00 
 227          ,0x10,0x00 ,0x00 ,0x06 ,0xD4 ,0x01 ,0x08 ,0x00 ,0x07 ,0xC0 ,0x02 ,0xDA ,0x9C ,0x60 ,0x00 ,0x02 
 228          ,0x00,0x00 ,0x00 ,0x1F ,0x85 ,0x21 ,0x00 ,0x04 ,0x07 ,0xC0 ,0x02 ,0xD9 ,0x9C ,0x60 ,0x00 ,0x0D 
 229          ,0xA8,0x60 ,0x98 ,0x10 ,0x07 ,0xC0 ,0x06 ,0xC8 ,0x9C ,0x80 ,0x00 ,0x1A ,0x07 ,0xC0 ,0x03 ,0xC5 
 230          ,0xA8,0x60 ,0x98 ,0x18 ,0xB8 ,0x8B ,0x00 ,0x8C ,0xA5 ,0x6B ,0x00 ,0x0F ,0xBC ,0x0B ,0x00 ,0x00 
 231          ,0x10,0x00 ,0x00 ,0x0C ,0xAC ,0x64 ,0x00 ,0x0D ,0xE0 ,0xA0 ,0x18 ,0x02 ,0xE0 ,0x65 ,0x18 ,0x04 
 232          ,0xBD,0x83 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x08 ,0xBC ,0x04 ,0x00 ,0x00 ,0x9C ,0x60 ,0x00 ,0x0D 
 233          ,0x07,0xC0 ,0x02 ,0xC7 ,0x9C ,0x80 ,0x00 ,0x01 ,0x00 ,0x00 ,0x00 ,0x09 ,0x85 ,0x21 ,0x00 ,0x04 
 234          ,0xBC,0x04 ,0x00 ,0x00 ,0x13 ,0xFF ,0xFF ,0xEB ,0x15 ,0x00 ,0x00 ,0x00 ,0x07 ,0xC0 ,0x02 ,0xBD 
 235          ,0x9C,0x60 ,0x00 ,0x0D ,0x03 ,0xFF ,0xFF ,0xE8 ,0xA8 ,0x60 ,0x98 ,0x10 ,0x84 ,0x21 ,0x00 ,0x00 
 236          ,0x44,0x00 ,0x48 ,0x00 ,0x9C ,0x21 ,0x00 ,0x08 ,0x9C ,0x21 ,0xFF ,0xF8 ,0xA8 ,0x97 ,0x00 ,0x00 
 237          ,0x9C,0xA0 ,0x00 ,0x42 ,0xD4 ,0x01 ,0x48 ,0x04 ,0x07 ,0xC0 ,0x06 ,0x7C ,0xD4 ,0x01 ,0x08 ,0x00 
 238          ,0x85,0x21 ,0x00 ,0x04 ,0x84 ,0x21 ,0x00 ,0x00 ,0x44 ,0x00 ,0x48 ,0x00 ,0x9C ,0x21 ,0x00 ,0x08 
 239          ,0x9C,0x21 ,0xFF ,0xF4 ,0xD4 ,0x01 ,0x10 ,0x04 ,0xA4 ,0x43 ,0x00 ,0x0F ,0xD4 ,0x01 ,0x48 ,0x08 
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 5   

 240          ,0xBC,0x22 ,0x00 ,0x01 ,0x10 ,0x00 ,0x00 ,0x0C ,0xD4 ,0x01 ,0x08 ,0x00 ,0x18 ,0x80 ,0x01 ,0x00 
 241          ,0xA8,0x60 ,0x98 ,0x19 ,0xA8 ,0x84 ,0x00 ,0xF8 ,0x07 ,0xC0 ,0x03 ,0x8A ,0x94 ,0x84 ,0x00 ,0x00 
 242          ,0x9C,0x60 ,0x00 ,0x0F ,0x07 ,0xC0 ,0x02 ,0xA2 ,0xA8 ,0x82 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x06 
 243          ,0x85,0x21 ,0x00 ,0x08 ,0x18 ,0x60 ,0x00 ,0x89 ,0x07 ,0xC0 ,0x06 ,0x4C ,0xA8 ,0x63 ,0x6A ,0xAF 
 244          ,0x85,0x21 ,0x00 ,0x08 ,0x84 ,0x21 ,0x00 ,0x00 ,0x84 ,0x41 ,0x00 ,0x04 ,0x44 ,0x00 ,0x48 ,0x00 
 245          ,0x9C,0x21 ,0x00 ,0x0C ,0x9C ,0x21 ,0xFF ,0xD4 ,0x18 ,0x60 ,0x01 ,0x00 ,0x18 ,0x80 ,0x01 ,0x00 
 246          ,0xD4,0x01 ,0x10 ,0x04 ,0x18 ,0x40 ,0x01 ,0x00 ,0xA8 ,0x63 ,0x1A ,0x58 ,0xA8 ,0x84 ,0x1F ,0x98 
 247          ,0xA8,0x42 ,0x00 ,0xF8 ,0xD4 ,0x01 ,0x48 ,0x28 ,0xD4 ,0x01 ,0x08 ,0x00 ,0xD4 ,0x01 ,0x70 ,0x08 
 248          ,0xD4,0x01 ,0x90 ,0x0C ,0xD4 ,0x01 ,0xA0 ,0x10 ,0xD4 ,0x01 ,0xB0 ,0x14 ,0xD4 ,0x01 ,0xC0 ,0x18 
 249          ,0xD4,0x01 ,0xD0 ,0x1C ,0xD4 ,0x01 ,0xE0 ,0x20 ,0x07 ,0xC0 ,0x03 ,0xC0 ,0xD4 ,0x01 ,0xF0 ,0x24 
 250          ,0x07,0xC0 ,0x03 ,0x66 ,0x15 ,0x00 ,0x00 ,0x00 ,0x94 ,0x62 ,0x00 ,0x00 ,0xBC ,0x23 ,0x00 ,0x00 
 251          ,0x10,0x00 ,0x00 ,0x07 ,0x18 ,0x60 ,0x01 ,0x00 ,0x18 ,0x80 ,0x01 ,0x00 ,0xA8 ,0x63 ,0x00 ,0x00 
 252          ,0x04,0x00 ,0x03 ,0xBC ,0xA8 ,0x84 ,0x1A ,0x58 ,0xDC ,0x02 ,0x58 ,0x00 ,0x1A ,0xE0 ,0x01 ,0x00 
 253          ,0xAA,0xF7 ,0x00 ,0x74 ,0xA8 ,0x60 ,0x98 ,0x14 ,0x07 ,0xC0 ,0x03 ,0x66 ,0xA8 ,0x40 ,0xFF ,0xF0 
 254          ,0xE4,0x2B ,0x10 ,0x00 ,0x10 ,0x00 ,0x00 ,0x06 ,0x18 ,0x40 ,0xCF ,0xFF ,0x07 ,0xC0 ,0x03 ,0x5A 
 255          ,0x9C,0x60 ,0x00 ,0x00 ,0x07 ,0xBF ,0xFE ,0x85 ,0x15 ,0x00 ,0x00 ,0x00 ,0xA8 ,0x42 ,0xFF ,0xFF 
 256          ,0xC1,0x40 ,0x10 ,0x00 ,0x9C ,0x80 ,0x00 ,0x00 ,0xC1 ,0x40 ,0x20 ,0x01 ,0x18 ,0x60 ,0x01 ,0x00 
 257          ,0x9D,0xC0 ,0xFF ,0xFF ,0x07 ,0xC0 ,0x07 ,0x54 ,0xA8 ,0x63 ,0x17 ,0x2C ,0x9D ,0xCE ,0x00 ,0x01 
 258          ,0xA5,0xCE ,0x00 ,0x07 ,0xB8 ,0x6E ,0x00 ,0x03 ,0xB8 ,0x4E ,0x00 ,0x06 ,0xE0 ,0x43 ,0x10 ,0x00 
 259          ,0x18,0x60 ,0x01 ,0x00 ,0xA8 ,0x63 ,0x1D ,0x58 ,0xE0 ,0x42 ,0x18 ,0x00 ,0x07 ,0xC0 ,0x07 ,0x9F 
 260          ,0xA8,0x6E ,0x00 ,0x00 ,0xB9 ,0x6B ,0x00 ,0x88 ,0xBD ,0xAB ,0x00 ,0x1F ,0x10 ,0x00 ,0x01 ,0xCB 
 261          ,0xBD,0x4B ,0x00 ,0x17 ,0xA6 ,0x4B ,0x00 ,0x1F ,0xBD ,0x52 ,0x00 ,0x09 ,0x10 ,0x00 ,0x00 ,0x09 
 262          ,0xBD,0x92 ,0x00 ,0x0B ,0xBD ,0x72 ,0x00 ,0x08 ,0x10 ,0x00 ,0x00 ,0xD8 ,0xBC ,0x12 ,0x00 ,0x02 
 263          ,0x10,0x00 ,0x00 ,0x0C ,0x9C ,0x80 ,0xFF ,0xFE ,0x00 ,0x00 ,0x03 ,0x8A ,0x15 ,0x00 ,0x00 ,0x00 
 264          ,0x10,0x00 ,0x03 ,0x88 ,0xBD ,0xB2 ,0x00 ,0x0C ,0x10 ,0x00 ,0x01 ,0x04 ,0xBC ,0x12 ,0x00 ,0x18 
 265          ,0x10,0x00 ,0x01 ,0x6D ,0xA8 ,0x80 ,0x82 ,0x00 ,0x00 ,0x00 ,0x03 ,0x82 ,0x15 ,0x00 ,0x00 ,0x00 
 266          ,0x8C,0x62 ,0x00 ,0x42 ,0x9E ,0xC0 ,0x00 ,0x01 ,0xE0 ,0x63 ,0x20 ,0x03 ,0xE2 ,0xD6 ,0x70 ,0x08 
 267          ,0xD8,0x02 ,0x18 ,0x42 ,0x07 ,0xC0 ,0x03 ,0x2F ,0xA8 ,0x60 ,0x98 ,0x0F ,0xA8 ,0x60 ,0x98 ,0x16 
 268          ,0xE1,0x6B ,0x70 ,0x48 ,0x07 ,0xC0 ,0x03 ,0x2B ,0xA6 ,0x4B ,0x00 ,0x01 ,0xA8 ,0x60 ,0x98 ,0x11 
 269          ,0xD8,0x02 ,0x90 ,0x10 ,0xA8 ,0x96 ,0x00 ,0x00 ,0x9C ,0xA0 ,0x00 ,0x00 ,0x07 ,0xC0 ,0x03 ,0x30 
 270          ,0xAA,0x8B ,0x00 ,0x00 ,0x90 ,0x62 ,0x00 ,0x0E ,0xBC ,0x23 ,0x00 ,0x64 ,0x10 ,0x00 ,0x00 ,0x0C 
 271          ,0xA4,0x74 ,0xFF ,0xFF ,0xE0 ,0x63 ,0x70 ,0x88 ,0xA4 ,0x63 ,0x00 ,0x01 ,0xBC ,0x03 ,0x00 ,0x00 
 272          ,0x10,0x00 ,0x03 ,0x60 ,0xA8 ,0x96 ,0x00 ,0x00 ,0xA8 ,0x60 ,0x98 ,0x16 ,0x07 ,0xC0 ,0x03 ,0x24 
 273          ,0x9C,0xA0 ,0x00 ,0x00 ,0x9C ,0x60 ,0x00 ,0x00 ,0xD8 ,0x02 ,0x18 ,0x0E ,0x07 ,0xC0 ,0x07 ,0xAA 
 274          ,0xA8,0x6E ,0x00 ,0x00 ,0xA5 ,0x6B ,0x00 ,0xFF ,0xBC ,0x12 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x2C 
 275          ,0xD8,0x02 ,0x58 ,0x0F ,0x94 ,0xB7 ,0x00 ,0x24 ,0x9C ,0xC0 ,0x00 ,0x3F ,0xA4 ,0xA5 ,0x00 ,0x3F 
 276          ,0xA8,0x6E ,0x00 ,0x00 ,0x07 ,0xC0 ,0x06 ,0x2B ,0x9C ,0x80 ,0x00 ,0x78 ,0x18 ,0x60 ,0x01 ,0x00 
 277          ,0xA8,0x8E ,0x00 ,0x00 ,0x07 ,0xC0 ,0x07 ,0x04 ,0xA8 ,0x63 ,0x18 ,0x20 ,0x18 ,0x60 ,0x01 ,0x00 
 278          ,0xA8,0x8E ,0x00 ,0x00 ,0x07 ,0xC0 ,0x07 ,0x00 ,0xA8 ,0x63 ,0x17 ,0xEC ,0x9C ,0x80 ,0x00 ,0x08 
 279          ,0xA8,0x6E ,0x00 ,0x00 ,0xD8 ,0x02 ,0x20 ,0x0E ,0x07 ,0xC0 ,0x06 ,0x1A ,0x9C ,0x80 ,0x00 ,0x4E 
 280          ,0xB9,0x6B ,0x00 ,0x12 ,0x8C ,0xA2 ,0x00 ,0x0F ,0xB9 ,0x6B ,0x00 ,0x5D ,0xBC ,0x05 ,0x00 ,0x00 
 281          ,0xA8,0x6E ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x0C ,0xD8 ,0x02 ,0x58 ,0x0C ,0x9C ,0xA0 ,0x00 ,0x00 
 282          ,0x9C,0x80 ,0x00 ,0x01 ,0x07 ,0xC0 ,0x06 ,0x13 ,0x9C ,0xC0 ,0x40 ,0x00 ,0x94 ,0x57 ,0x00 ,0x18 
 283          ,0xBC,0x22 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x03 ,0x9C ,0xA0 ,0x00 ,0x02 ,0xA8 ,0xA2 ,0x00 ,0x00 
 284          ,0xA8,0x6E ,0x00 ,0x00 ,0x9C ,0x80 ,0x00 ,0xDF ,0x9C ,0xC0 ,0x00 ,0x02 ,0x07 ,0xC0 ,0x06 ,0x09 
 285          ,0x15,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x6D ,0x94 ,0x97 ,0x00 ,0x00 ,0xBC ,0x0B ,0x00 ,0x00 
 286          ,0x10,0x00 ,0x00 ,0x31 ,0x9C ,0xC0 ,0x00 ,0x3F ,0x94 ,0xB7 ,0x00 ,0x24 ,0xA4 ,0xA5 ,0x00 ,0x3F 
 287          ,0xA8,0x6E ,0x00 ,0x00 ,0x9C ,0x80 ,0x00 ,0x78 ,0x07 ,0xC0 ,0x05 ,0xFE ,0xBA ,0x94 ,0x00 ,0x10 
 288          ,0x18,0x60 ,0x01 ,0x00 ,0xA8 ,0x8E ,0x00 ,0x00 ,0x07 ,0xC0 ,0x06 ,0xD7 ,0xA8 ,0x63 ,0x18 ,0x20 
 289          ,0x18,0x60 ,0x01 ,0x00 ,0xA8 ,0x8E ,0x00 ,0x00 ,0x07 ,0xC0 ,0x06 ,0xD3 ,0xA8 ,0x63 ,0x17 ,0xEC 
 290          ,0x9C,0x60 ,0x00 ,0x05 ,0x9C ,0x80 ,0x00 ,0x08 ,0xD8 ,0x02 ,0x18 ,0x0D ,0xBD ,0x74 ,0x00 ,0x00 
 291          ,0x10,0x00 ,0x00 ,0x06 ,0xD8 ,0x02 ,0x20 ,0x0E ,0x9C ,0x60 ,0x00 ,0x07 ,0x9C ,0x80 ,0x00 ,0x01 
 292          ,0xD8,0x02 ,0x18 ,0x0D ,0xD8 ,0x02 ,0x20 ,0x10 ,0x8C ,0xA2 ,0x00 ,0x0D ,0xA4 ,0xA5 ,0x00 ,0x07 
 293          ,0xA8,0x6E ,0x00 ,0x00 ,0xB8 ,0xA5 ,0x00 ,0x0B ,0x9C ,0x80 ,0x00 ,0x4E ,0x07 ,0xC0 ,0x05 ,0xE5 
 294          ,0x9C,0xC0 ,0x38 ,0x00 ,0x8C ,0x62 ,0x00 ,0x0D ,0xD8 ,0x02 ,0x18 ,0x0C ,0x94 ,0x57 ,0x00 ,0x18 
 295          ,0xBC,0x22 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x03 ,0x9C ,0xA0 ,0x00 ,0x02 ,0xA8 ,0xA2 ,0x00 ,0x00 
 296          ,0xA8,0x6E ,0x00 ,0x00 ,0x9C ,0x80 ,0x00 ,0xDF ,0x07 ,0xC0 ,0x05 ,0xDA ,0x9C ,0xC0 ,0x00 ,0x02 
 297          ,0xA8,0x6E ,0x00 ,0x00 ,0x9C ,0x80 ,0x00 ,0x01 ,0x9C ,0xA0 ,0x00 ,0x00 ,0x03 ,0xFF ,0xFF ,0xCC 
 298          ,0x9C,0xC0 ,0x40 ,0x00 ,0x8C ,0x62 ,0x00 ,0x0E ,0x9C ,0x63 ,0xFF ,0xF6 ,0xBC ,0x43 ,0x00 ,0x0D 
 299          ,0x10,0x00 ,0x00 ,0x3B ,0x18 ,0x60 ,0x01 ,0x00 ,0xB4 ,0x60 ,0x50 ,0x01 ,0x84 ,0xA2 ,0x00 ,0x04 
 300          ,0xE0,0x63 ,0x28 ,0x02 ,0x94 ,0xB7 ,0x00 ,0x10 ,0xB8 ,0x63 ,0x00 ,0x50 ,0xE4 ,0x85 ,0x18 ,0x00 
 301          ,0x10,0x00 ,0x00 ,0x32 ,0xE0 ,0xB7 ,0x70 ,0x00 ,0x8C ,0xC2 ,0x00 ,0x13 ,0x9C ,0x66 ,0x00 ,0x12 
 302          ,0xB8,0x63 ,0x00 ,0x02 ,0xE0 ,0x77 ,0x18 ,0x00 ,0x84 ,0x63 ,0x00 ,0x00 ,0xB8 ,0x83 ,0x00 ,0x5C 
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 6   

 303          ,0xD4,0x02 ,0x18 ,0x20 ,0x9C ,0x84 ,0x00 ,0x1A ,0xB8 ,0x84 ,0x00 ,0x02 ,0xE0 ,0x97 ,0x20 ,0x00 
 304          ,0x84,0x84 ,0x00 ,0x00 ,0xD8 ,0x02 ,0x90 ,0x12 ,0xD4 ,0x02 ,0x20 ,0x24 ,0xA4 ,0x83 ,0x00 ,0xFF 
 305          ,0xB8,0x63 ,0x00 ,0x04 ,0xA4 ,0xE4 ,0x00 ,0x0F ,0xA4 ,0x84 ,0x00 ,0x07 ,0xB8 ,0x63 ,0x00 ,0x48 
 306          ,0xD8,0x02 ,0x20 ,0x0C ,0xD8 ,0x02 ,0x38 ,0x14 ,0xD4 ,0x02 ,0x18 ,0x20 ,0x18 ,0x60 ,0x01 ,0x00 
 307          ,0xDC,0x02 ,0x90 ,0x18 ,0xDC ,0x02 ,0x90 ,0x16 ,0xD8 ,0x05 ,0x30 ,0x2C ,0xA8 ,0x8E ,0x00 ,0x00 
 308          ,0x07,0xC0 ,0x06 ,0x89 ,0xA8 ,0x63 ,0x17 ,0xEC ,0x8C ,0xA2 ,0x00 ,0x0C ,0x98 ,0x97 ,0x00 ,0x22 
 309          ,0xE5,0x85 ,0x20 ,0x00 ,0x10 ,0x00 ,0x00 ,0x09 ,0x15 ,0x00 ,0x00 ,0x00 ,0x94 ,0xB7 ,0x00 ,0x80 
 310          ,0xA4,0xA5 ,0x00 ,0x7F ,0xA8 ,0x6E ,0x00 ,0x00 ,0xB8 ,0xA5 ,0x00 ,0x07 ,0x9C ,0x80 ,0x00 ,0x01 
 311          ,0x07,0xC0 ,0x05 ,0xA0 ,0x9C ,0xC0 ,0x3F ,0x80 ,0x8C ,0x82 ,0x00 ,0x14 ,0x07 ,0xFF ,0xFE ,0x10 
 312          ,0xA8,0x6E ,0x00 ,0x00 ,0x94 ,0x97 ,0x00 ,0x00 ,0x07 ,0xC0 ,0x05 ,0xA3 ,0xA8 ,0x6E ,0x00 ,0x00 
 313          ,0x00,0x00 ,0x02 ,0xC4 ,0x15 ,0x00 ,0x00 ,0x00 ,0x18 ,0x60 ,0x01 ,0x00 ,0xA8 ,0x8E ,0x00 ,0x00 
 314          ,0x07,0xC0 ,0x06 ,0x71 ,0xA8 ,0x63 ,0x17 ,0x88 ,0x9C ,0x80 ,0x00 ,0x1F ,0x9C ,0x60 ,0x00 ,0x00 
 315          ,0xD8,0x02 ,0x20 ,0x1C ,0xD8 ,0x02 ,0x20 ,0x1D ,0x9C ,0x80 ,0x00 ,0x08 ,0xD8 ,0x02 ,0x18 ,0x12 
 316          ,0x00,0x00 ,0x02 ,0xB8 ,0xD8 ,0x02 ,0x20 ,0x0E ,0x8E ,0x82 ,0x00 ,0x12 ,0xBC ,0x34 ,0x00 ,0x00 
 317          ,0x10,0x00 ,0x00 ,0x07 ,0x9C ,0x60 ,0x00 ,0x10 ,0xB4 ,0x60 ,0x50 ,0x01 ,0xD4 ,0x02 ,0x18 ,0x04 
 318          ,0x9C,0x60 ,0x00 ,0x09 ,0xD8 ,0x02 ,0x18 ,0x0E ,0x9C ,0x60 ,0x00 ,0x10 ,0xE2 ,0x83 ,0xA0 ,0x88 
 319          ,0xBC,0x34 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x03 ,0x15 ,0x00 ,0x00 ,0x00 ,0x9E ,0x80 ,0x00 ,0x01 
 320          ,0xA8,0x6E ,0x00 ,0x00 ,0x07 ,0xC0 ,0x05 ,0x77 ,0x9C ,0x80 ,0x00 ,0x74 ,0xA5 ,0x6B ,0xFF ,0xFF 
 321          ,0xBC,0x4B ,0x00 ,0x01 ,0x10 ,0x00 ,0x00 ,0x03 ,0x9C ,0x60 ,0x00 ,0x01 ,0x9C ,0x60 ,0x00 ,0x00 
 322          ,0xA4,0x63 ,0x00 ,0xFF ,0xBC ,0x23 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x05 ,0x8C ,0x62 ,0x00 ,0x1C 
 323          ,0xBC,0x32 ,0x00 ,0x09 ,0x10 ,0x00 ,0x00 ,0x08 ,0x15 ,0x00 ,0x00 ,0x00 ,0xD8 ,0x02 ,0x18 ,0x1E 
 324          ,0xBC,0x43 ,0x00 ,0x3E ,0x0C ,0x00 ,0x00 ,0x05 ,0xE2 ,0x83 ,0xA0 ,0x00 ,0x00 ,0x00 ,0x00 ,0x05 
 325          ,0x8C,0xA2 ,0x00 ,0x1C ,0xE2 ,0x83 ,0xA0 ,0x02 ,0xD8 ,0x02 ,0xA0 ,0x1C ,0x8C ,0xA2 ,0x00 ,0x1C 
 326          ,0xA8,0x6E ,0x00 ,0x00 ,0x9C ,0xC0 ,0x00 ,0x7F ,0x9C ,0x80 ,0x00 ,0x4A ,0x07 ,0xC0 ,0x05 ,0x61 
 327          ,0xA4,0xA5 ,0x00 ,0x7F ,0xA8 ,0x6E ,0x00 ,0x00 ,0x9C ,0x80 ,0x00 ,0x49 ,0x07 ,0xC0 ,0x05 ,0x6A 
 328          ,0x9C,0xA0 ,0x00 ,0x00 ,0xA8 ,0x80 ,0x8B ,0x8C ,0x07 ,0xC0 ,0x05 ,0x5F ,0xA8 ,0x6E ,0x00 ,0x00 
 329          ,0x00,0x00 ,0x02 ,0x84 ,0x15 ,0x00 ,0x00 ,0x00 ,0x8E ,0x82 ,0x00 ,0x12 ,0x9C ,0x60 ,0x00 ,0x10 
 330          ,0xE2,0x83 ,0xA0 ,0x88 ,0xBC ,0x34 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x03 ,0x15 ,0x00 ,0x00 ,0x00 
 331          ,0x9E,0x80 ,0x00 ,0x01 ,0xA8 ,0x6E ,0x00 ,0x00 ,0x07 ,0xC0 ,0x05 ,0x4A ,0x9C ,0x80 ,0x00 ,0x74 
 332          ,0xA5,0x6B ,0xFF ,0xFF ,0xBC ,0x4B ,0x00 ,0x01 ,0x10 ,0x00 ,0x00 ,0x04 ,0x8C ,0x62 ,0x00 ,0x1D 
 333          ,0x00,0x00 ,0x00 ,0x06 ,0xE2 ,0x83 ,0xA0 ,0x02 ,0xBC ,0x43 ,0x00 ,0x3E ,0x10 ,0x00 ,0x00 ,0x04 
 334          ,0xD8,0x02 ,0x18 ,0x1F ,0xE2 ,0x83 ,0xA0 ,0x00 ,0xD8 ,0x02 ,0xA0 ,0x1D ,0x8C ,0xA2 ,0x00 ,0x1D 
 335          ,0xA8,0x6E ,0x00 ,0x00 ,0x9C ,0x80 ,0x00 ,0x4C ,0xA4 ,0xA5 ,0x00 ,0x7F ,0x07 ,0xC0 ,0x05 ,0x3D 
 336          ,0x9C,0xC0 ,0x00 ,0x7F ,0x8C ,0x62 ,0x00 ,0x12 ,0xBC ,0x43 ,0x00 ,0x06 ,0x10 ,0x00 ,0x00 ,0x10 
 337          ,0x9C,0x80 ,0x00 ,0x78 ,0xA8 ,0xA0 ,0xFF ,0xFF ,0xA8 ,0x6E ,0x00 ,0x00 ,0x07 ,0xC0 ,0x05 ,0x42 
 338          ,0x9C,0x80 ,0x00 ,0x49 ,0xA8 ,0x80 ,0x88 ,0x89 ,0x07 ,0xC0 ,0x05 ,0x37 ,0xA8 ,0x6E ,0x00 ,0x00 
 339          ,0x8C,0x62 ,0x00 ,0x12 ,0x9C ,0x63 ,0x00 ,0x01 ,0xBC ,0x32 ,0x00 ,0x0C ,0x10 ,0x00 ,0x02 ,0x59 
 340          ,0xD8,0x02 ,0x18 ,0x12 ,0x00 ,0x00 ,0x00 ,0x3B ,0x18 ,0x60 ,0x01 ,0x00 ,0x94 ,0xB7 ,0x00 ,0x24 
 341          ,0xA8,0x6E ,0x00 ,0x00 ,0xA4 ,0xA5 ,0x00 ,0x3F ,0x9C ,0xC0 ,0x00 ,0x3F ,0x07 ,0xC0 ,0x05 ,0x25 
 342          ,0x9E,0x40 ,0x00 ,0x00 ,0x18 ,0x60 ,0x01 ,0x00 ,0xA8 ,0x8E ,0x00 ,0x00 ,0x07 ,0xC0 ,0x05 ,0xFE 
 343          ,0xA8,0x63 ,0x18 ,0x20 ,0x8C ,0x62 ,0x00 ,0x1F ,0xE4 ,0x03 ,0x90 ,0x00 ,0x10 ,0x00 ,0x00 ,0x0F 
 344          ,0x9C,0x80 ,0x00 ,0x00 ,0x07 ,0xC0 ,0x01 ,0xB1 ,0x8C ,0x62 ,0x00 ,0x1E ,0x8C ,0x62 ,0x00 ,0x1F 
 345          ,0x07,0xC0 ,0x01 ,0xAE ,0xAA ,0x4B ,0x00 ,0x00 ,0xA8 ,0x72 ,0x00 ,0x00 ,0x07 ,0xC0 ,0x01 ,0x82 
 346          ,0xA8,0x8B ,0x00 ,0x00 ,0x9C ,0x80 ,0x00 ,0x07 ,0x07 ,0xC0 ,0x02 ,0x56 ,0xA8 ,0x6B ,0x00 ,0x00 
 347          ,0x9E,0x4B ,0xFF ,0x80 ,0x9C ,0x80 ,0x00 ,0x00 ,0xA8 ,0x60 ,0x98 ,0x16 ,0x07 ,0xC0 ,0x01 ,0xED 
 348          ,0xD4,0x02 ,0x20 ,0x20 ,0xA5 ,0x6B ,0x80 ,0x00 ,0xBC ,0x2B ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x13 
 349          ,0x9C,0x60 ,0x00 ,0x06 ,0xBD ,0xB2 ,0x00 ,0x4B ,0x10 ,0x00 ,0x00 ,0x0E ,0xBD ,0xB2 ,0x00 ,0x72 
 350          ,0x10,0x00 ,0x00 ,0x0C ,0x9D ,0x60 ,0x00 ,0x01 ,0xBD ,0xB2 ,0x00 ,0x87 ,0x10 ,0x00 ,0x00 ,0x09 
 351          ,0x9D,0x60 ,0x00 ,0x02 ,0xBD ,0xB2 ,0x00 ,0xCB ,0x10 ,0x00 ,0x00 ,0x06 ,0x9D ,0x60 ,0x00 ,0x03 
 352          ,0xBD,0x52 ,0x00 ,0xFE ,0x10 ,0x00 ,0x00 ,0x03 ,0x9D ,0x60 ,0x00 ,0x05 ,0x9D ,0x60 ,0x00 ,0x04 
 353          ,0x9C,0x60 ,0x00 ,0x05 ,0xE0 ,0x63 ,0x58 ,0x02 ,0xD8 ,0x02 ,0x18 ,0x13 ,0xE0 ,0x77 ,0x70 ,0x00 
 354          ,0xD8,0x03 ,0x90 ,0x40 ,0x9C ,0x60 ,0x00 ,0x0A ,0xD8 ,0x02 ,0x18 ,0x0E ,0x18 ,0x60 ,0x01 ,0x00 
 355          ,0xA8,0x8E ,0x00 ,0x00 ,0x07 ,0xC0 ,0x05 ,0xCC ,0xA8 ,0x63 ,0x18 ,0x48 ,0x00 ,0x00 ,0x02 ,0x12 
 356          ,0x18,0x60 ,0x01 ,0x00 ,0x07 ,0xC0 ,0x04 ,0xF0 ,0xA8 ,0x6E ,0x00 ,0x00 ,0x8C ,0x62 ,0x00 ,0x42 
 357          ,0xA8,0x63 ,0x00 ,0x01 ,0xD8 ,0x02 ,0x18 ,0x42 ,0x07 ,0xC0 ,0x05 ,0x65 ,0xA8 ,0x6E ,0x00 ,0x00 
 358          ,0xA8,0x6E ,0x00 ,0x00 ,0x07 ,0xC0 ,0x05 ,0x2F ,0xAA ,0x4B ,0x00 ,0x00 ,0x94 ,0x77 ,0x00 ,0x1A 
 359          ,0xE4,0x8B ,0x18 ,0x00 ,0x10 ,0x00 ,0x00 ,0x05 ,0x9E ,0x52 ,0x00 ,0x10 ,0xBC ,0xB2 ,0x00 ,0x20 
 360          ,0x10,0x00 ,0x00 ,0x09 ,0x15 ,0x00 ,0x00 ,0x00 ,0xA8 ,0x6E ,0x00 ,0x00 ,0x9C ,0x80 ,0x00 ,0x50 
 361          ,0x9C,0xA0 ,0x08 ,0x00 ,0x07 ,0xC0 ,0x04 ,0xD7 ,0x9C ,0xC0 ,0x0F ,0xFF ,0x00 ,0x00 ,0x02 ,0x01 
 362          ,0x15,0x00 ,0x00 ,0x00 ,0x8C ,0x62 ,0x00 ,0x10 ,0xBC ,0x03 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x2E 
 363          ,0x15,0x00 ,0x00 ,0x00 ,0x94 ,0x97 ,0x00 ,0x02 ,0x07 ,0xC0 ,0x04 ,0xD7 ,0xA8 ,0x6E ,0x00 ,0x00 
 364          ,0xA8,0xA0 ,0xE0 ,0x00 ,0xA8 ,0xC0 ,0xF0 ,0x00 ,0xA8 ,0x6E ,0x00 ,0x00 ,0x07 ,0xC0 ,0x04 ,0xC9 
 365          ,0x9C,0x80 ,0x00 ,0x3B ,0x8C ,0x62 ,0x00 ,0x10 ,0xBC ,0x03 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x0D 
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 7   

 366          ,0x15,0x00 ,0x00 ,0x00 ,0x8C ,0x62 ,0x00 ,0x0F ,0xBC ,0x23 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x18 
 367          ,0x9C,0x60 ,0x00 ,0x1A ,0x8C ,0x82 ,0x00 ,0x0C ,0x98 ,0x77 ,0x00 ,0x1E ,0xE5 ,0x64 ,0x18 ,0x00 
 368          ,0x10,0x00 ,0x00 ,0x04 ,0xA8 ,0x6E ,0x00 ,0x00 ,0x07 ,0xC0 ,0x05 ,0xF5 ,0x9C ,0x80 ,0x00 ,0x07 
 369          ,0x8C,0x62 ,0x00 ,0x0F ,0xBC ,0x23 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x0D ,0x9C ,0x60 ,0x00 ,0x1A 
 370          ,0x8C,0x82 ,0x00 ,0x0C ,0x98 ,0x77 ,0x00 ,0x20 ,0xE5 ,0x64 ,0x18 ,0x00 ,0x10 ,0x00 ,0x00 ,0x06 
 371          ,0x9C,0xA0 ,0x00 ,0x22 ,0xA8 ,0x6E ,0x00 ,0x00 ,0x9C ,0x80 ,0x00 ,0xDF ,0x07 ,0xC0 ,0x04 ,0xAD 
 372          ,0x9C,0xC0 ,0x00 ,0xE2 ,0x00 ,0x00 ,0x00 ,0x09 ,0x9C ,0x80 ,0x00 ,0x1D ,0xA8 ,0x8E ,0x00 ,0x00 
 373          ,0xD8,0x02 ,0x18 ,0x0E ,0x07 ,0xFF ,0xFC ,0x8F ,0xA8 ,0x62 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x04 
 374          ,0x15,0x00 ,0x00 ,0x00 ,0x9C ,0x80 ,0x00 ,0x10 ,0xD8 ,0x02 ,0x20 ,0x0E ,0xB4 ,0x60 ,0x50 ,0x01 
 375          ,0x00,0x00 ,0x01 ,0xCC ,0xD4 ,0x02 ,0x18 ,0x00 ,0x0C ,0x00 ,0x01 ,0xC3 ,0x18 ,0x60 ,0x01 ,0x00 
 376          ,0x9E,0x4E ,0x00 ,0x80 ,0x9E ,0xC0 ,0x00 ,0x03 ,0xBA ,0x52 ,0x00 ,0x08 ,0x9F ,0x92 ,0x00 ,0x13 
 377          ,0x9E,0x52 ,0x00 ,0x2A ,0x07 ,0xC0 ,0x01 ,0x77 ,0xA8 ,0x7C ,0x00 ,0x00 ,0xA8 ,0x72 ,0x00 ,0x00 
 378          ,0x07,0xC0 ,0x01 ,0x74 ,0xAB ,0xCB ,0x00 ,0x00 ,0x9C ,0x80 ,0x00 ,0x0D ,0xA8 ,0x6E ,0x00 ,0x00 
 379          ,0x07,0xC0 ,0x04 ,0x8C ,0xAB ,0x0B ,0x00 ,0x00 ,0xA8 ,0x6E ,0x00 ,0x00 ,0x07 ,0xC0 ,0x05 ,0x01 
 380          ,0xAA,0x8B ,0x00 ,0x00 ,0xA8 ,0x7C ,0x00 ,0x00 ,0xAB ,0x4B ,0x00 ,0x00 ,0x07 ,0xC0 ,0x01 ,0x69 
 381          ,0xA7,0xDE ,0x00 ,0x0F ,0xA5 ,0x6B ,0x00 ,0x0F ,0xE5 ,0x5E ,0x58 ,0x00 ,0x10 ,0x00 ,0x00 ,0x03 
 382          ,0x9C,0x80 ,0x00 ,0x01 ,0x9C ,0x80 ,0x00 ,0x00 ,0xA4 ,0x84 ,0x00 ,0xFF ,0xBC ,0x24 ,0x00 ,0x00 
 383          ,0x10,0x00 ,0x00 ,0x14 ,0xBC ,0x0B ,0x00 ,0x0F ,0x10 ,0x00 ,0x00 ,0x13 ,0x9E ,0xD6 ,0xFF ,0xFF 
 384          ,0xB6,0xC0 ,0x50 ,0x01 ,0x8C ,0x62 ,0x00 ,0x0E ,0x9C ,0x63 ,0xFF ,0xF0 ,0x86 ,0x42 ,0x00 ,0x00 
 385          ,0xA4,0x63 ,0x00 ,0xFF ,0xE2 ,0x56 ,0x90 ,0x02 ,0xBC ,0x43 ,0x00 ,0x21 ,0x10 ,0x00 ,0x01 ,0x99 
 386          ,0xBA,0x52 ,0x00 ,0x50 ,0x18 ,0x80 ,0x01 ,0x00 ,0xB8 ,0x63 ,0x00 ,0x02 ,0xA8 ,0x84 ,0x16 ,0xA4 
 387          ,0xE0,0x63 ,0x20 ,0x00 ,0x84 ,0x63 ,0x00 ,0x00 ,0x44 ,0x00 ,0x18 ,0x00 ,0x15 ,0x00 ,0x00 ,0x00 
 388          ,0x9E,0xD6 ,0xFF ,0xFF ,0xBC ,0x36 ,0x00 ,0x00 ,0x13 ,0xFF ,0xFF ,0xD3 ,0x15 ,0x00 ,0x00 ,0x00 
 389          ,0x03,0xFF ,0xFF ,0xEC ,0x15 ,0x00 ,0x00 ,0x00 ,0x94 ,0x77 ,0x00 ,0x26 ,0xE4 ,0x92 ,0x18 ,0x00 
 390          ,0x10,0x00 ,0x01 ,0x89 ,0x18 ,0x60 ,0x01 ,0x00 ,0x94 ,0x97 ,0x00 ,0x02 ,0x07 ,0xC0 ,0x04 ,0x6A 
 391          ,0xA8,0x6E ,0x00 ,0x00 ,0xA8 ,0x6E ,0x00 ,0x00 ,0x9C ,0x80 ,0x00 ,0x08 ,0x9C ,0xA0 ,0x00 ,0x80 
 392          ,0x07,0xC0 ,0x04 ,0x5C ,0x9C ,0xC0 ,0x00 ,0xF0 ,0x8C ,0x62 ,0x00 ,0x0F ,0xBC ,0x03 ,0x00 ,0x00 
 393          ,0x0C,0x00 ,0x01 ,0x7A ,0xD4 ,0x02 ,0xB0 ,0x00 ,0x00 ,0x00 ,0x01 ,0x2D ,0x9C ,0x80 ,0x00 ,0x12 
 394          ,0x94,0x97 ,0x00 ,0x28 ,0xE4 ,0x92 ,0x20 ,0x00 ,0x10 ,0x00 ,0x01 ,0x77 ,0x18 ,0x60 ,0x01 ,0x00 
 395          ,0x94,0x97 ,0x00 ,0x3C ,0x94 ,0xC2 ,0x00 ,0x18 ,0xE0 ,0x98 ,0x20 ,0x00 ,0xE5 ,0x84 ,0x30 ,0x00 
 396          ,0x10,0x00 ,0x00 ,0x08 ,0x15 ,0x00 ,0x00 ,0x00 ,0x94 ,0x77 ,0x00 ,0x26 ,0xE4 ,0x92 ,0x18 ,0x00 
 397          ,0x0C,0x00 ,0x00 ,0x05 ,0x18 ,0x60 ,0x01 ,0x00 ,0x00 ,0x00 ,0x01 ,0x6B ,0x15 ,0x00 ,0x00 ,0x00 
 398          ,0x9F,0x00 ,0x00 ,0x00 ,0x84 ,0x62 ,0x00 ,0x24 ,0xD4 ,0x02 ,0xB0 ,0x00 ,0xA4 ,0x83 ,0x00 ,0x0F 
 399          ,0xB8,0x63 ,0x00 ,0x44 ,0xBC ,0x24 ,0x00 ,0x0F ,0x0C ,0x00 ,0x00 ,0x14 ,0xD4 ,0x02 ,0x18 ,0x24 
 400          ,0x9C,0x64 ,0x00 ,0x14 ,0xA4 ,0xB8 ,0xFF ,0xFF ,0xE0 ,0x63 ,0x18 ,0x00 ,0xE0 ,0xE2 ,0x20 ,0x00 
 401          ,0xE0,0x62 ,0x18 ,0x00 ,0xDC ,0x03 ,0x28 ,0x00 ,0x8C ,0x62 ,0x00 ,0x14 ,0xD8 ,0x07 ,0xD0 ,0x30 
 402          ,0xD8,0x07 ,0x18 ,0x34 ,0x8C ,0xE2 ,0x00 ,0x12 ,0xE5 ,0xA4 ,0x38 ,0x00 ,0x10 ,0x00 ,0x00 ,0x03 
 403          ,0xE5,0xB8 ,0x30 ,0x00 ,0xD8 ,0x02 ,0x20 ,0x12 ,0x10 ,0x00 ,0x00 ,0x04 ,0x15 ,0x00 ,0x00 ,0x00 
 404          ,0xDC,0x02 ,0x28 ,0x18 ,0xDC ,0x02 ,0x18 ,0x16 ,0x84 ,0x82 ,0x00 ,0x20 ,0xBC ,0x04 ,0x00 ,0x00 
 405          ,0x10,0x00 ,0x00 ,0x13 ,0xBC ,0x38 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x09 ,0x15 ,0x00 ,0x00 ,0x00 
 406          ,0x8C,0xA2 ,0x00 ,0x14 ,0x94 ,0x62 ,0x00 ,0x16 ,0xA4 ,0xA5 ,0x00 ,0x07 ,0xA4 ,0x63 ,0x00 ,0x07 
 407          ,0xE5,0x45 ,0x18 ,0x00 ,0x10 ,0x00 ,0x00 ,0x0A ,0x15 ,0x00 ,0x00 ,0x00 ,0xA4 ,0x84 ,0x00 ,0x0F 
 408          ,0xA8,0x6E ,0x00 ,0x00 ,0x07 ,0xFF ,0xFC ,0x8E ,0xD8 ,0x02 ,0x20 ,0x14 ,0x84 ,0x62 ,0x00 ,0x20 
 409          ,0xB8,0x63 ,0x00 ,0x44 ,0x00 ,0x00 ,0x01 ,0x3B ,0xD4 ,0x02 ,0x18 ,0x20 ,0x95 ,0xA2 ,0x00 ,0x28 
 410          ,0x90,0xE2 ,0x00 ,0x30 ,0x8C ,0x82 ,0x00 ,0x12 ,0x9D ,0x02 ,0x00 ,0x2A ,0x9C ,0xA2 ,0x00 ,0x31 
 411          ,0xA8,0xCD ,0x00 ,0x00 ,0x9D ,0xE0 ,0x00 ,0x00 ,0x9C ,0x60 ,0x00 ,0x01 ,0xE5 ,0xA3 ,0x20 ,0x00 
 412          ,0x0C,0x00 ,0x00 ,0x13 ,0xA9 ,0x97 ,0x00 ,0x00 ,0x95 ,0x88 ,0x00 ,0x00 ,0xE5 ,0xAC ,0x30 ,0x00 
 413          ,0x10,0x00 ,0x00 ,0x0B ,0x15 ,0x00 ,0x00 ,0x00 ,0x91 ,0x65 ,0x00 ,0x00 ,0xBD ,0x8B ,0x00 ,0x00 
 414          ,0x10,0x00 ,0x00 ,0x04 ,0xE5 ,0x4B ,0x38 ,0x00 ,0x10 ,0x00 ,0x00 ,0x05 ,0x15 ,0x00 ,0x00 ,0x00 
 415          ,0xA8,0xEB ,0x00 ,0x00 ,0xA9 ,0xE3 ,0x00 ,0x00 ,0xA8 ,0xCC ,0x00 ,0x00 ,0x9C ,0x63 ,0x00 ,0x01 
 416          ,0x9D,0x08 ,0x00 ,0x02 ,0x03 ,0xFF ,0xFF ,0xEE ,0x9C ,0xA5 ,0x00 ,0x01 ,0x9C ,0xA2 ,0x00 ,0x28 
 417          ,0x9D,0x02 ,0x00 ,0x30 ,0x9C ,0x60 ,0x00 ,0x00 ,0xE4 ,0x23 ,0x78 ,0x00 ,0x0C ,0x00 ,0x00 ,0x13 
 418          ,0xBC,0x24 ,0x00 ,0x03 ,0x96 ,0x25 ,0x00 ,0x00 ,0x95 ,0x6C ,0x00 ,0x38 ,0xE1 ,0x71 ,0x58 ,0x00 
 419          ,0xE5,0x8B ,0x30 ,0x00 ,0x10 ,0x00 ,0x00 ,0x08 ,0x15 ,0x00 ,0x00 ,0x00 ,0x91 ,0x68 ,0x00 ,0x00 
 420          ,0xBD,0x8B ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x08 ,0xE5 ,0xAB ,0x38 ,0x00 ,0x10 ,0x00 ,0x00 ,0x07 
 421          ,0xBC,0x24 ,0x00 ,0x03 ,0x9C ,0x63 ,0x00 ,0x01 ,0x9C ,0xA5 ,0x00 ,0x02 ,0x03 ,0xFF ,0xFF ,0xEF 
 422          ,0x9D,0x08 ,0x00 ,0x01 ,0xBC ,0x24 ,0x00 ,0x03 ,0x10 ,0x00 ,0x00 ,0x1A ,0x15 ,0x00 ,0x00 ,0x00 
 423          ,0x15,0x00 ,0x00 ,0x00 ,0xBC ,0x23 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x16 ,0x15 ,0x00 ,0x00 ,0x00 
 424          ,0x94,0x82 ,0x00 ,0x2E ,0xE0 ,0x84 ,0x68 ,0x02 ,0xB8 ,0xA4 ,0x00 ,0x9F ,0xE0 ,0x85 ,0x20 ,0x05 
 425          ,0xE0,0x84 ,0x28 ,0x02 ,0x94 ,0xAC ,0x00 ,0x3A ,0xE5 ,0x64 ,0x28 ,0x00 ,0x10 ,0x00 ,0x00 ,0x0D 
 426          ,0x15,0x00 ,0x00 ,0x00 ,0x90 ,0x82 ,0x00 ,0x31 ,0xBD ,0x84 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x08 
 427          ,0x15,0x00 ,0x00 ,0x00 ,0x90 ,0x82 ,0x00 ,0x32 ,0xBD ,0x64 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x05 
 428          ,0x15,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x03 ,0x9C ,0x60 ,0x00 ,0x02 ,0x9C ,0x60 ,0x00 ,0x01 
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 8   

 429          ,0xE0,0x62 ,0x18 ,0x00 ,0x8C ,0x82 ,0x00 ,0x14 ,0x8C ,0x63 ,0x00 ,0x34 ,0xA4 ,0x84 ,0x00 ,0x07 
 430          ,0xD8,0x02 ,0x18 ,0x14 ,0x9C ,0x60 ,0x00 ,0x19 ,0xD8 ,0x02 ,0x20 ,0x0C ,0x00 ,0x00 ,0x00 ,0x07 
 431          ,0xD8,0x02 ,0x18 ,0x0E ,0x94 ,0x77 ,0x00 ,0x2A ,0xE4 ,0x92 ,0x18 ,0x00 ,0x10 ,0x00 ,0x00 ,0xE1 
 432          ,0x15,0x00 ,0x00 ,0x00 ,0xD4 ,0x02 ,0xB0 ,0x00 ,0xA8 ,0x62 ,0x00 ,0x00 ,0x07 ,0xFF ,0xFC ,0x46 
 433          ,0xA8,0x8E ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0xDC ,0x18 ,0x60 ,0x01 ,0x00 ,0xA8 ,0x62 ,0x00 ,0x00 
 434          ,0x07,0xFF ,0xFC ,0x78 ,0xA8 ,0x8E ,0x00 ,0x00 ,0x8C ,0x62 ,0x00 ,0x0F ,0xBC ,0x23 ,0x00 ,0x00 
 435          ,0x10,0x00 ,0x00 ,0xD5 ,0x18 ,0x60 ,0x01 ,0x00 ,0x9E ,0x40 ,0x01 ,0x00 ,0xA8 ,0x60 ,0x98 ,0x0F 
 436          ,0x07,0xC0 ,0x00 ,0x8C ,0xE2 ,0x52 ,0x70 ,0x08 ,0xE2 ,0x4B ,0x90 ,0x03 ,0xBC ,0x32 ,0x00 ,0x00 
 437          ,0x10,0x00 ,0x00 ,0xCC ,0x9C ,0x80 ,0x00 ,0x01 ,0xA8 ,0x6E ,0x00 ,0x00 ,0xA8 ,0xB2 ,0x00 ,0x00 
 438          ,0x07,0xC0 ,0x03 ,0xA4 ,0x9C ,0xC0 ,0x40 ,0x00 ,0x9C ,0x60 ,0x00 ,0x01 ,0xDC ,0x02 ,0x90 ,0x16 
 439          ,0xD8,0x02 ,0x18 ,0x15 ,0xDC ,0x02 ,0x90 ,0x18 ,0x94 ,0x97 ,0x00 ,0x36 ,0xE0 ,0x63 ,0x20 ,0x08 
 440          ,0x9C,0x80 ,0x00 ,0x1F ,0xD4 ,0x02 ,0xB0 ,0x00 ,0xD8 ,0x02 ,0x18 ,0x11 ,0x00 ,0x00 ,0x00 ,0xBD 
 441          ,0xD8,0x02 ,0x20 ,0x0E ,0xA8 ,0x62 ,0x00 ,0x00 ,0x07 ,0xFF ,0xFC ,0x5A ,0xA8 ,0x8E ,0x00 ,0x00 
 442          ,0x07,0xC0 ,0x00 ,0x74 ,0xA8 ,0x60 ,0x98 ,0x0F ,0x9C ,0x60 ,0x01 ,0x00 ,0xE0 ,0x63 ,0x70 ,0x08 
 443          ,0xE1,0x6B ,0x18 ,0x03 ,0xBC ,0x2B ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0xB3 ,0x18 ,0x60 ,0x01 ,0x00 
 444          ,0xA8,0x6E ,0x00 ,0x00 ,0x07 ,0xC0 ,0x03 ,0x87 ,0x9C ,0x80 ,0x00 ,0x09 ,0xA5 ,0x6B ,0x80 ,0x00 
 445          ,0xBC,0x2B ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0xAC ,0x18 ,0x60 ,0x01 ,0x00 ,0x94 ,0x77 ,0x00 ,0x34 
 446          ,0xE4,0x92 ,0x18 ,0x00 ,0x10 ,0x00 ,0x00 ,0xA8 ,0x18 ,0x60 ,0x01 ,0x00 ,0x8E ,0x42 ,0x00 ,0x11 
 447          ,0x94,0x62 ,0x00 ,0x16 ,0x9E ,0x52 ,0xFF ,0xFF ,0xE3 ,0x18 ,0x18 ,0x00 ,0xA6 ,0x52 ,0x00 ,0xFF 
 448          ,0xD4,0x02 ,0xB0 ,0x00 ,0xDC ,0x02 ,0xC0 ,0x16 ,0xBC ,0x32 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x9D 
 449          ,0xD8,0x02 ,0x90 ,0x11 ,0xA8 ,0x6E ,0x00 ,0x00 ,0x07 ,0xC0 ,0x03 ,0x72 ,0x9C ,0x80 ,0x00 ,0x80 
 450          ,0xA8,0x6E ,0x00 ,0x00 ,0x9C ,0x80 ,0x00 ,0x01 ,0x07 ,0xC0 ,0x03 ,0x6E ,0xAA ,0xCB ,0x00 ,0x00 
 451          ,0x94,0x62 ,0x00 ,0x16 ,0x94 ,0x82 ,0x00 ,0x18 ,0xE4 ,0x64 ,0x18 ,0x00 ,0x10 ,0x00 ,0x00 ,0x04 
 452          ,0x15,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x07 ,0xDC ,0x02 ,0x18 ,0x18 ,0x8C ,0x62 ,0x00 ,0x15 
 453          ,0x9C,0x63 ,0xFF ,0xFF ,0xDC ,0x02 ,0x90 ,0x18 ,0xB8 ,0x63 ,0x00 ,0x5F ,0xD8 ,0x02 ,0x18 ,0x15 
 454          ,0x90,0x82 ,0x00 ,0x15 ,0xBC ,0x04 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x09 ,0xA4 ,0x74 ,0x00 ,0x7F 
 455          ,0xB8,0xB6 ,0x00 ,0x10 ,0xB8 ,0xA5 ,0x00 ,0x59 ,0xE5 ,0x83 ,0x28 ,0x00 ,0x0C ,0x00 ,0x00 ,0x0A 
 456          ,0x15,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x09 ,0x9C ,0xA3 ,0x00 ,0x01 ,0xB8 ,0xAB ,0x00 ,0x12 
 457          ,0xB8,0xA5 ,0x00 ,0x59 ,0xE5 ,0x43 ,0x28 ,0x00 ,0x0C ,0x00 ,0x00 ,0x04 ,0xA4 ,0xA5 ,0xFF ,0xFF 
 458          ,0x9C,0xA3 ,0xFF ,0xFF ,0xA4 ,0xA5 ,0xFF ,0xFF ,0xA8 ,0x6E ,0x00 ,0x00 ,0x9C ,0x80 ,0x00 ,0x5F 
 459          ,0x07,0xC0 ,0x03 ,0x50 ,0x9C ,0xC0 ,0x00 ,0x7F ,0x9C ,0xA0 ,0x10 ,0x00 ,0xA8 ,0x6E ,0x00 ,0x00 
 460          ,0x9C,0x80 ,0x00 ,0x0A ,0x07 ,0xC0 ,0x03 ,0x4B ,0xA8 ,0xC5 ,0x00 ,0x00 ,0x94 ,0x97 ,0x00 ,0x36 
 461          ,0x9C,0x60 ,0x00 ,0x01 ,0xE0 ,0x63 ,0x20 ,0x08 ,0xD8 ,0x02 ,0x18 ,0x11 ,0x9C ,0x60 ,0x00 ,0x00 
 462          ,0x00,0x00 ,0x00 ,0x68 ,0xDC ,0x02 ,0x18 ,0x16 ,0x94 ,0x77 ,0x00 ,0x06 ,0xE4 ,0xB2 ,0x18 ,0x00 
 463          ,0x10,0x00 ,0x00 ,0x64 ,0x15 ,0x00 ,0x00 ,0x00 ,0xA8 ,0x62 ,0x00 ,0x00 ,0x07 ,0xFF ,0xFB ,0x25 
 464          ,0xA8,0x8E ,0x00 ,0x00 ,0x9C ,0x80 ,0x00 ,0x1C ,0xD4 ,0x02 ,0xB0 ,0x00 ,0xD8 ,0x02 ,0x20 ,0x0E 
 465          ,0xA8,0x62 ,0x00 ,0x00 ,0x07 ,0xFF ,0xFB ,0x97 ,0xA8 ,0x8E ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x5A 
 466          ,0x18,0x60 ,0x01 ,0x00 ,0x94 ,0x77 ,0x00 ,0x04 ,0xE4 ,0xB2 ,0x18 ,0x00 ,0x10 ,0x00 ,0x00 ,0x55 
 467          ,0x15,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x52 ,0x9C ,0x60 ,0x00 ,0x1B ,0x94 ,0x77 ,0x00 ,0x0E 
 468          ,0xE4,0xB2 ,0x18 ,0x00 ,0x10 ,0x00 ,0x00 ,0x4F ,0x9C ,0x80 ,0x00 ,0x1B ,0x00 ,0x00 ,0x00 ,0x4D 
 469          ,0xD8,0x02 ,0x20 ,0x0E ,0xA8 ,0x62 ,0x00 ,0x00 ,0x07 ,0xFF ,0xFB ,0x86 ,0xA8 ,0x8E ,0x00 ,0x00 
 470          ,0x00,0x00 ,0x00 ,0x47 ,0x9C ,0x60 ,0x00 ,0x1B ,0x94 ,0x77 ,0x00 ,0x08 ,0xE4 ,0x92 ,0x18 ,0x00 
 471          ,0x10,0x00 ,0x00 ,0x44 ,0x9C ,0x80 ,0x00 ,0x31 ,0x9C ,0x60 ,0x00 ,0x00 ,0xD8 ,0x02 ,0x20 ,0x0E 
 472          ,0xDC,0x02 ,0x18 ,0x1A ,0x9C ,0x60 ,0x00 ,0x01 ,0x94 ,0x97 ,0x00 ,0x0A ,0xE0 ,0x63 ,0x20 ,0x08 
 473          ,0xD8,0x02 ,0x18 ,0x11 ,0x94 ,0x77 ,0x00 ,0x0C ,0xE4 ,0x92 ,0x18 ,0x00 ,0x10 ,0x00 ,0x00 ,0x3A 
 474          ,0x18,0x60 ,0x01 ,0x00 ,0x94 ,0x62 ,0x00 ,0x1A ,0xE3 ,0x5A ,0x18 ,0x00 ,0x8C ,0x82 ,0x00 ,0x11 
 475          ,0xBB,0x5A ,0x00 ,0x10 ,0x9C ,0x84 ,0xFF ,0xFF ,0xD4 ,0x02 ,0xB0 ,0x00 ,0xBB ,0x5A ,0x00 ,0x90 
 476          ,0xA4,0x84 ,0x00 ,0xFF ,0xDC ,0x02 ,0xD0 ,0x1A ,0xBC ,0x24 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x2D 
 477          ,0xD8,0x02 ,0x20 ,0x11 ,0x94 ,0xF7 ,0x00 ,0x0A ,0x98 ,0x77 ,0x00 ,0x14 ,0xE0 ,0x63 ,0x38 ,0x08 
 478          ,0xE5,0xBA ,0x18 ,0x00 ,0x10 ,0x00 ,0x00 ,0x0B ,0x8C ,0x62 ,0x00 ,0x0C ,0xBC ,0x03 ,0x00 ,0x00 
 479          ,0x10,0x00 ,0x00 ,0x16 ,0x9E ,0x40 ,0x00 ,0x01 ,0x8C ,0xA2 ,0x00 ,0x0D ,0xE4 ,0x85 ,0x18 ,0x00 
 480          ,0x10,0x00 ,0x00 ,0x12 ,0x9C ,0x63 ,0xFF ,0xFF ,0x00 ,0x00 ,0x00 ,0x0F ,0xD8 ,0x02 ,0x18 ,0x0C 
 481          ,0x98,0xB7 ,0x00 ,0x16 ,0xE0 ,0xA5 ,0x38 ,0x08 ,0xE5 ,0x7A ,0x28 ,0x00 ,0x10 ,0x00 ,0x00 ,0x0B 
 482          ,0x9E,0x40 ,0x00 ,0x01 ,0xBC ,0x43 ,0x00 ,0x05 ,0x10 ,0x00 ,0x00 ,0x08 ,0x15 ,0x00 ,0x00 ,0x00 
 483          ,0x8C,0xA2 ,0x00 ,0x0D ,0xE4 ,0x45 ,0x18 ,0x00 ,0x10 ,0x00 ,0x00 ,0x04 ,0xE0 ,0x63 ,0x90 ,0x00 
 484          ,0xD8,0x02 ,0x18 ,0x0C ,0xAA ,0x44 ,0x00 ,0x00 ,0x8C ,0x82 ,0x00 ,0x0C ,0x07 ,0xC0 ,0x03 ,0x12 
 485          ,0xA8,0x6E ,0x00 ,0x00 ,0xBC ,0x12 ,0x00 ,0x00 ,0x10 ,0x00 ,0x00 ,0x08 ,0x9C ,0x80 ,0x00 ,0x1A 
 486          ,0xA8,0x62 ,0x00 ,0x00 ,0xD8 ,0x02 ,0x20 ,0x0E ,0x07 ,0xFF ,0xFA ,0xCA ,0xA8 ,0x8E ,0x00 ,0x00 
 487          ,0x00,0x00 ,0x00 ,0x05 ,0x18 ,0x60 ,0x01 ,0x00 ,0x9C ,0x60 ,0x00 ,0x30 ,0xD8 ,0x02 ,0x18 ,0x0E 
 488          ,0x18,0x60 ,0x01 ,0x00 ,0x07 ,0xC0 ,0x02 ,0x5A ,0xA8 ,0x63 ,0x00 ,0x38 ,0xA8 ,0x60 ,0x98 ,0x10 
 489          ,0x07,0xC0 ,0x02 ,0xB9 ,0x9C ,0x80 ,0x00 ,0x1A ,0x03 ,0xFF ,0xFC ,0x62 ,0x9D ,0xCE ,0x00 ,0x01 
 490          ,0x07,0xC0 ,0x04 ,0xDC ,0xA8 ,0x6E ,0x00 ,0x00 ,0x03 ,0xFF ,0xFF ,0xF7 ,0x18 ,0x60 ,0x01 ,0x00 
 491          ,0xA9,0x6B ,0xFF ,0xFF ,0x19 ,0x00 ,0x01 ,0x00 ,0xA9 ,0x08 ,0x16 ,0x84 ,0xE4 ,0x03 ,0x20 ,0x00 
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 9   

 492          ,0x10,0x00 ,0x00 ,0x10 ,0x9C ,0xA0 ,0x00 ,0x04 ,0x94 ,0xC3 ,0x00 ,0x00 ,0xE1 ,0x6B ,0x30 ,0x05 
 493          ,0xB8,0xCB ,0x00 ,0x4C ,0xB9 ,0x6B ,0x00 ,0x04 ,0xE0 ,0xC6 ,0x30 ,0x00 ,0x9C ,0xA5 ,0xFF ,0xFF 
 494          ,0xE0,0xC6 ,0x40 ,0x00 ,0xBC ,0x25 ,0x00 ,0x00 ,0x94 ,0xC6 ,0x00 ,0x00 ,0xE1 ,0x66 ,0x58 ,0x05 
 495          ,0x13,0xFF ,0xFF ,0xF8 ,0xA5 ,0x6B ,0xFF ,0xFF ,0x03 ,0xFF ,0xFF ,0xF1 ,0x9C ,0x63 ,0x00 ,0x02 
 496          ,0x44,0x00 ,0x48 ,0x00 ,0x15 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x80 ,0x05 ,0x80 ,0x0F ,0x00 ,0x0A 
 497          ,0x80,0x1B ,0x00 ,0x1E ,0x00 ,0x14 ,0x80 ,0x11 ,0x80 ,0x33 ,0x00 ,0x36 ,0x00 ,0x3C ,0x80 ,0x39 
 498          ,0x00,0x28 ,0x80 ,0x2D ,0x80 ,0x27 ,0x00 ,0x22 ,0x01 ,0x00 ,0x0F ,0xD4 ,0x01 ,0x00 ,0x15 ,0xFC 
 499          ,0x01,0x00 ,0x10 ,0x1C ,0x01 ,0x00 ,0x15 ,0xFC ,0x01 ,0x00 ,0x15 ,0xFC ,0x01 ,0x00 ,0x15 ,0xFC 
 500          ,0x01,0x00 ,0x15 ,0xFC ,0x01 ,0x00 ,0x15 ,0xFC ,0x01 ,0x00 ,0x15 ,0xFC ,0x01 ,0x00 ,0x12 ,0x70 
 501          ,0x01,0x00 ,0x14 ,0xD0 ,0x01 ,0x00 ,0x12 ,0x98 ,0x01 ,0x00 ,0x14 ,0xA0 ,0x01 ,0x00 ,0x14 ,0x64 
 502          ,0x01,0x00 ,0x14 ,0xB8 ,0x01 ,0x00 ,0x13 ,0x10 ,0x01 ,0x00 ,0x15 ,0xFC ,0x01 ,0x00 ,0x15 ,0xFC 
 503          ,0x01,0x00 ,0x15 ,0xFC ,0x01 ,0x00 ,0x15 ,0xFC ,0x01 ,0x00 ,0x15 ,0xFC ,0x01 ,0x00 ,0x15 ,0xFC 
 504          ,0x01,0x00 ,0x15 ,0xFC ,0x01 ,0x00 ,0x15 ,0xFC ,0x01 ,0x00 ,0x15 ,0xFC ,0x01 ,0x00 ,0x15 ,0xFC 
 505          ,0x01,0x00 ,0x15 ,0xFC ,0x01 ,0x00 ,0x15 ,0xFC ,0x01 ,0x00 ,0x15 ,0xFC ,0x01 ,0x00 ,0x15 ,0xFC 
 506          ,0x01,0x00 ,0x15 ,0xFC ,0x01 ,0x00 ,0x15 ,0xFC ,0x01 ,0x00 ,0x14 ,0xE4 ,0x01 ,0x00 ,0x15 ,0x10 
 507          ,0x98,0x10 ,0xFF ,0xFF ,0x00 ,0x00 ,0x80 ,0x0B ,0x9F ,0x9F ,0x82 ,0x00 ,0x81 ,0x0B ,0x9F ,0x9F 
 508          ,0x82,0x00 ,0x82 ,0x0B ,0x9F ,0x9F ,0x82 ,0x00 ,0x83 ,0x0B ,0x9F ,0x9F ,0x82 ,0x00 ,0x98 ,0x14 
 509          ,0xFF,0xFF ,0x5B ,0x5B ,0x98 ,0x0C ,0x20 ,0x00 ,0x20 ,0x00 ,0x98 ,0x0F ,0xFF ,0xFF ,0x00 ,0xF0 
 510          ,0x99,0x00 ,0xFF ,0xFF ,0xFD ,0xE0 ,0x99 ,0x01 ,0xFF ,0xFF ,0x21 ,0x04 ,0x99 ,0x02 ,0xFF ,0xFF 
 511          ,0x93,0x10 ,0x99 ,0x03 ,0xFF ,0xFF ,0x4A ,0x66 ,0x98 ,0x1E ,0xFF ,0xFF ,0x85 ,0x38 ,0x98 ,0x26 
 512          ,0xFF,0xFF ,0x95 ,0x79 ,0x98 ,0x27 ,0xFF ,0xFF ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0xF2 ,0x03 ,0xF0 
 513          ,0x02,0xE0 ,0x00 ,0xDF ,0x00 ,0xE2 ,0x00 ,0x00 ,0x00 ,0xF9 ,0x00 ,0x7E ,0x00 ,0x4C ,0x00 ,0xF8 
 514          ,0x03,0x80 ,0x00 ,0x00 ,0x00 ,0x3B ,0xF0 ,0x00 ,0x00 ,0x00 ,0x00 ,0x78 ,0x00 ,0x3F ,0x00 ,0x24 
 515          ,0x00,0x0B ,0x9F ,0x9F ,0x88 ,0x89 ,0x00 ,0x65 ,0x00 ,0xE0 ,0x00 ,0x00 ,0x00 ,0x48 ,0xFF ,0xFF 
 516          ,0xFF,0xFF ,0x00 ,0x49 ,0xFF ,0xFF ,0xFF ,0xFF ,0x00 ,0x4A ,0x0F ,0xFF ,0x07 ,0x1F ,0x00 ,0x4B 
 517          ,0xFF,0xFF ,0xFF ,0xFF ,0x00 ,0x4C ,0x1F ,0xFF ,0x0E ,0x9F ,0x00 ,0x4D ,0x80 ,0x00 ,0x80 ,0x00 
 518          ,0x00,0x4E ,0x38 ,0x00 ,0x38 ,0x00 ,0x00 ,0x4F ,0xF0 ,0x00 ,0xF0 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 
 519          ,0x00,0x50 ,0x0F ,0xFF ,0x00 ,0x40 ,0x00 ,0x3B ,0xF0 ,0x00 ,0x00 ,0x00 ,0x00 ,0x4D ,0x80 ,0x00 
 520          ,0x80,0x00 ,0x00 ,0x08 ,0x00 ,0xF0 ,0x00 ,0x80 ,0x00 ,0x01 ,0x40 ,0x00 ,0x40 ,0x00 ,0x00 ,0x0A 
 521          ,0x10,0x00 ,0x00 ,0x00 ,0x00 ,0x65 ,0x00 ,0xE0 ,0x00 ,0x00 ,0x00 ,0x0B ,0x9F ,0x9F ,0x82 ,0x98 
 522          ,0x00,0x00 ,0x00 ,0x00 ,0x00 ,0x48 ,0xFF ,0xFF ,0x00 ,0x80 ,0x00 ,0x49 ,0xFF ,0xFF ,0x00 ,0x02 
 523          ,0x00,0x4C ,0x1F ,0xFF ,0x11 ,0x15 ,0x00 ,0x4B ,0xFF ,0xFF ,0x00 ,0x80 ,0x00 ,0x4A ,0x0F ,0xFF 
 524          ,0x08,0xBD ,0x00 ,0x0B ,0x9F ,0x9F ,0x82 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x81 ,0x08 ,0x00 
 525          ,0x08,0x00 ,0x00 ,0x0C ,0x80 ,0x00 ,0x00 ,0x00 ,0x00 ,0x0C ,0x80 ,0x00 ,0x80 ,0x00 ,0x00 ,0x81 
 526          ,0x08,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x88 ,0x83 ,0x4E ,0x05 ,0x88 ,0x82 ,0xD8 ,0x00 
 527          ,0x88,0x75 ,0xC6 ,0xFF ,0x60 ,0x02 ,0x80 ,0x00 ,0x88 ,0xFC ,0x52 ,0x36 ,0x78 ,0x00 ,0x00 ,0x00 
 528          ,0x88,0x50 ,0x50 ,0x40 ,0x88 ,0xA3 ,0x00 ,0x20 ,0x85 ,0x4E ,0x00 ,0x00 ,0x88 ,0x76 ,0x41 ,0x82 
 529          ,0x88,0x77 ,0x51 ,0x66 ,0x88 ,0x78 ,0x1C ,0xBB ,0x84 ,0x76 ,0x00 ,0x84 ,0x85 ,0x76 ,0x00 ,0x84 
 530          ,0x86,0x76 ,0x00 ,0x84 ,0x87 ,0x76 ,0x00 ,0x84 ,0x84 ,0x77 ,0x18 ,0x82 ,0x85 ,0x77 ,0x18 ,0x82 
 531          ,0x86,0x77 ,0x18 ,0x82 ,0x87 ,0x77 ,0x18 ,0x82 ,0x84 ,0x78 ,0x8C ,0x38 ,0x85 ,0x78 ,0x8C ,0x38 
 532          ,0x86,0x78 ,0x8C ,0x38 ,0x87 ,0x78 ,0x8C ,0x38 ,0x84 ,0x4E ,0x00 ,0x00 ,0x87 ,0x4E ,0x00 ,0x00 
 533          ,0x86,0x4E ,0x00 ,0x00 ,0x60 ,0x32 ,0x80 ,0x00 ,0x60 ,0x12 ,0x80 ,0x00 ,0x88 ,0x63 ,0x00 ,0x80 
 534          ,0x88,0x64 ,0x80 ,0x80 ,0x88 ,0x08 ,0x5A ,0xBB ,0x88 ,0x03 ,0x29 ,0x33 ,0x88 ,0x02 ,0x40 ,0x06 
 535          ,0x60,0x22 ,0x80 ,0x00 ,0x88 ,0x06 ,0xA1 ,0x00 ,0x88 ,0x05 ,0xAE ,0x82 ,0x00 ,0x00 ,0x00 ,0x00 
 536          ,0x88,0xDF ,0x00 ,0x66 ,0x88 ,0x81 ,0x30 ,0x00 ,0x88 ,0x87 ,0xCD ,0x7A ,0x88 ,0x86 ,0xCD ,0x7A 
 537          ,0x88,0x85 ,0x4D ,0x7A ,0x88 ,0x84 ,0x8D ,0x7A ,0x88 ,0xFC ,0x53 ,0x66 ,0x88 ,0x88 ,0x4D ,0x7A 
 538          ,0x88,0xFE ,0x80 ,0xAE ,0x88 ,0xFD ,0xB6 ,0x44 ,0x88 ,0xFF ,0xFD ,0xC0 ,0x78 ,0x08 ,0x0C ,0x00 
 539          ,0x73,0x1A ,0xFF ,0x00 ,0x71 ,0x1A ,0xFF ,0x00 ,0x72 ,0x1A ,0xFF ,0x00 ,0x70 ,0x1A ,0xFF ,0x00 
 540          ,0x78,0x09 ,0x3A ,0x90 ,0x88 ,0x79 ,0x88 ,0x6C ,0x82 ,0x4E ,0x38 ,0x00 ,0x81 ,0x4E ,0x38 ,0x00 
 541          ,0x83,0x4E ,0x38 ,0x00 ,0x80 ,0x4E ,0x38 ,0x00 ,0x88 ,0x4D ,0x80 ,0x00 ,0x78 ,0x06 ,0x12 ,0x54 
 542          ,0x88,0xEF ,0xB6 ,0xA0 ,0x88 ,0xFB ,0x77 ,0x36 ,0x78 ,0x19 ,0x00 ,0x05 ,0x78 ,0x16 ,0x81 ,0xC0 
 543          ,0x88,0xF9 ,0x8B ,0x5A ,0x88 ,0xF8 ,0xB7 ,0x78 ,0x00 ,0x07 ,0x00 ,0x20 ,0x88 ,0xF1 ,0xB0 ,0x00 
 544          ,0x88,0xF0 ,0x67 ,0xB4 ,0x88 ,0xF5 ,0x61 ,0xE0 ,0x88 ,0xF7 ,0xA2 ,0x46 ,0x99 ,0x02 ,0x93 ,0x10 
 545          ,0x99,0x00 ,0xFD ,0xE0 ,0x99 ,0x01 ,0x21 ,0x04 ,0x88 ,0x01 ,0x02 ,0x01 ,0x88 ,0x00 ,0x4D ,0x05 
 546          ,0x88,0x07 ,0x4D ,0x7A ,0x00 ,0x00 ,0x00 ,0x00 ,0x88 ,0xDF ,0x00 ,0x66 ,0x88 ,0x81 ,0x30 ,0x00 
 547          ,0x88,0x87 ,0xCD ,0x7A ,0x88 ,0x86 ,0xCD ,0x7A ,0x88 ,0x85 ,0x4D ,0x7A ,0x88 ,0x84 ,0x8D ,0x7A 
 548          ,0x78,0x06 ,0x12 ,0x54 ,0x88 ,0xFB ,0x77 ,0x36 ,0x88 ,0xFE ,0xA5 ,0xA8 ,0x88 ,0xFD ,0x36 ,0x44 
 549          ,0x88,0xFF ,0xFD ,0xC0 ,0x78 ,0x08 ,0x0C ,0x00 ,0x73 ,0x1A ,0xFF ,0x00 ,0x71 ,0x1A ,0xFF ,0x00 
 550          ,0x70,0x1A ,0xFF ,0x00 ,0x72 ,0x1A ,0xFF ,0x00 ,0x78 ,0x09 ,0x3A ,0x90 ,0x88 ,0x79 ,0x88 ,0x6C 
 551          ,0x81,0x4E ,0x38 ,0x00 ,0x83 ,0x4E ,0x38 ,0x00 ,0x82 ,0x4E ,0x38 ,0x00 ,0x80 ,0x4E ,0x38 ,0x00 
 552          ,0x88,0x4D ,0x80 ,0x00 ,0x88 ,0xEF ,0xB6 ,0xA0 ,0x88 ,0x88 ,0x4D ,0x7A ,0x78 ,0x19 ,0x00 ,0x05 
 553          ,0x78,0x16 ,0x81 ,0xC0 ,0x88 ,0xF9 ,0x8B ,0xDA ,0x88 ,0xF8 ,0xB7 ,0x78 ,0x00 ,0x07 ,0x00 ,0x2A 
 554          ,0x88,0xF1 ,0xB0 ,0x00 ,0x88 ,0xF0 ,0x67 ,0xB4 ,0x88 ,0xF5 ,0x61 ,0xE0 ,0x88 ,0xF7 ,0xA2 ,0x46 
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 10  

 555          ,0x99,0x02 ,0x93 ,0x10 ,0x99 ,0x00 ,0xFD ,0xE0 ,0x99 ,0x01 ,0x21 ,0x04 ,0x88 ,0x01 ,0x02 ,0x01 
 556          ,0x88,0x00 ,0x4D ,0x05 ,0x88 ,0x07 ,0x4D ,0x7A ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x8B ,0xFC ,0x00 
 557          ,0xFC,0x00 ,0x00 ,0x8B ,0xFC ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 
 558          //*/
 559                  };
 560          
 561          consts uint8_t script_content[] = {
 562          //main cursor
 563                          0x80, 0xa7, 0x14, 0x00, 0x81, 0xa7, 0x14, 0x00, 0x82, 0xa7, 0x14, 0x00,
 564                          0x83, 0xa7, 0x14, 0x00, 0x84, 0xa7, 0x12, 0x00, 0x85, 0xa7, 0x12, 0x00,
 565                          0x86, 0xa7, 0x12, 0x00, 0x87, 0xa7, 0x12,
 566                          0x00
 567          //pre cursor
 568                          , 0x80, 0xa8, 0x3c, 0x00, 0x81, 0xa8, 0x3c, 0x00, 0x82, 0xa8, 0x3c,
 569                          0x00, 0x83, 0xa8, 0x3c, 0x00, 0x84, 0xa8, 0x3f, 0x00, 0x85, 0xa8, 0x3f,
 570                          0x00, 0x86, 0xa8, 0x3f, 0x00, 0x87, 0xa8, 0x3f,
 571                          0x00
 572          //post cursor  B
 573                          , 0x84, 0xa6, 0x3c, 0x00, 0x85, 0xa6, 0x3c, 0x00, 0x86, 0xa6, 0x3c,
 574                          0x00, 0x87, 0xa6, 0x3c,
 575                          0x00
 576          //TX polarity
 577                          , 0x80, 0xa0, 0x00, 0x80, 0x81, 0xa0, 0x00, 0x80, 0x82, 0xa0, 0x00,
 578                          0x80, 0x83, 0xa0, 0x00, 0x00, 0x84, 0xa0, 0x00, 0x00, 0x85, 0xa0, 0x00,
 579                          0x80, 0x86, 0xa0, 0x00, 0x80, 0x87, 0xa0, 0x00,
 580                          0x80
 581          //RX CLTE=4
 582                          , 0x84, 0x4e, 0x20, 0x00, 0x85, 0x4e, 0x20, 0x00, 0x86, 0x4e, 0x20,
 583                          0x00, 0x87, 0x4e, 0x20,
 584                          0x00
 585          //RX polarity
 586                          , 0x80, 0x61, 0x3C, 0x20, 0x81, 0x61, 0x34, 0x20, 0x82, 0x61, 0x34,
 587                          0x20, 0x83, 0x61, 0x3C, 0x20, 0x84, 0x61, 0x7C, 0x20, 0x85, 0x61, 0x34,
 588                          0x20, 0x86, 0x61, 0x34, 0x20, 0x87, 0x61, 0x34, 0x20 };
 589          ///////////////////////////////////////////////////////////////////////////////////////////////
 590          
 591          void SiLabs_Startup(void) {
 592   1      }
 593          
 594          //-----------------------------------------------------------------------------
 595          // Function Prototypes
 596          //-----------------------------------------------------------------------------
 597          bool SMB_Write(void);
 598          bool SMB_Read(void);
 599          void T0_Waitms(uint8_t ms);
 600          
 601          SI_SBIT(BC_EN, SFR_P2, 2);            // Board Controller Enable
 602          #define BC_DISCONNECTED 0              // 0 = Board Controller disconnected
 603                                                 //     to EFM8 UART pins
 604          #define BC_CONNECTED    1              // 1 = Board Controller connected
 605                                                 //     to EFM8 UART pins
 606          void test_tempsensor (void)
 607          {
 608   1        int32_t temp_scaled;                // Stores scaled temperature value
 609   1        int32_t temp_whole;                 // Stores unscaled whole number portion
 610   1                                            // of temperature for output.
 611   1         uint16_t temp_frac;                 // Stores unscaled decimal portion of
 612   1                                            // temperature for output.
 613   1      
 614   1        uint16_t tempsensor_0c;             // Stores the temp sensor cal value at
 615   1                                            // 0C as [high byte][low byte]
 616   1      
 617   1      //  enter_DefaultMode_from_RESET();
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 11  

 618   1      
 619   1        DISP_EN = DISP_BC_DRIVEN;           // EFM8 does not drive display
 620   1      
 621   1        BC_EN = BC_CONNECTED;            // Board controller connected to EFM8
 622   1                                         // UART pins
 623   1      
 624   1        //printf requires that the UART be primed by setting TI
 625   1      //  SCON0_TI = 1;
 626   1      
 627   1        IE_EA = 1;                          // Enable all interrupts
 628   1      
 629   1      //   RETARGET_PRINTF("\f");                       // Clear the screen before outputs
 630   1      
 631   1        // format the temperature calibration value
 632   1        tempsensor_0c = (TEMPSENSOR_0C_HIGH << 8) | TEMPSENSOR_0C_LOW;
 633   1      
 634   1        while (1)                           // Spin forever
 635   1        {
 636   2          PCON0 |= PCON0_IDLE__IDLE;       // Put the CPU in Idle mode while waiting
 637   2          // for conversions to complete
 638   2            if(CONV_COMPLETE)
 639   2            {
 640   3              // Calculate the scaled temperature using the formula provided in the datasheet
 641   3              temp_scaled = (((int32_t) ADC_AVG - tempsensor_0c) * SCALE) / 28;
 642   3      
 643   3              // Calculate the temp's whole number portion by unscaling
 644   3              temp_whole = temp_scaled / SCALE;
 645   3      
 646   3              // The temp_frac value is the unscaled decimal portion of temperature
 647   3              temp_frac = ABS(temp_scaled) % SCALE;
 648   3      
 649   3              printf(" T = %ld.%d(C) \n", temp_whole, temp_frac);
 650   3      
 651   3              CONV_COMPLETE = 0;
 652   3          }
 653   2        }
 654   1      }
 655          
 656          
 657          void FLASH_Write (FLADDR dest, uint8_t *src, uint16_t numbytes)
 658          {
 659   1         FLADDR i;
 660   1      
 661   1         for (i = dest; i < dest+numbytes; i++) {
 662   2            FLASH_ByteWrite (i, *src++);
 663   2         }
 664   1      }
 665          
 666          
 667          uint8_t * FLASH_Read (uint8_t *dest, FLADDR src, uint16_t numbytes)
 668          {
 669   1         FLADDR i;
 670   1      
 671   1         for (i = 0; i < numbytes; i++) {
 672   2            *dest++ = FLASH_ByteRead (src+i);
 673   2         }
 674   1         return dest;
 675   1      }
 676          
 677          
 678          
 679          
 680          
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 12  

 681          
 682          
 683          void rst(void)
 684          {
 685   1              uint8_t i=9;
 686   1      
 687   1      //                      showReg();
 688   1      
 689   1      
 690   1      
 691   1      
 692   1                              P1SKIP |= 1<<3|1<<2;
 693   1                              P1MDIN =0xff;
 694   1      //                      showReg();
 695   1                              P1MDOUT = P1MDOUT_B0__PUSH_PULL | P1MDOUT_B1__PUSH_PULL
 696   1                                              | P1MDOUT_B2__PUSH_PULL | P1MDOUT_B3__PUSH_PULL
 697   1                                              | P1MDOUT_B4__PUSH_PULL | P1MDOUT_B5__OPEN_DRAIN
 698   1                                              | P1MDOUT_B6__PUSH_PULL | P1MDOUT_B7__OPEN_DRAIN;
 699   1      
 700   1      #if 0
                                      P1MDOUT = P1MDOUT_B0__PUSH_PULL | P1MDOUT_B1__PUSH_PULL
                                                      | P1MDOUT_B2__OPEN_DRAIN | P1MDOUT_B3__PUSH_PULL
                                                      | P1MDOUT_B4__PUSH_PULL | P1MDOUT_B5__OPEN_DRAIN
                                                      | P1MDOUT_B6__PUSH_PULL | P1MDOUT_B7__OPEN_DRAIN;
                                      P1|=(1<<2);
                                      showReg();
              //                      P1&=~(1<<6);
              //                      P1|=(1<<6);
              #endif
 710   1                              
 711   1                              while(1)
 712   1                              {
 713   2                                      if((0 == (P1&(1<<2)))|| 0 ==i--)//
 714   2                                      {
 715   3                                              break;
 716   3                                      }
 717   2                                      P1&=~(1<<3);//SCL L
 718   2              //                      P1&=~(1<<2);    //SDA L
 719   2                                      _nop_();
 720   2                                      P1|=(1<<3);     //SCL H
 721   2                                      _nop_();
 722   2      
 723   2                              }
 724   1      
 725   1                              P1MDOUT = P1MDOUT_B0__PUSH_PULL | P1MDOUT_B1__PUSH_PULL
 726   1                                              | P1MDOUT_B2__PUSH_PULL | P1MDOUT_B3__PUSH_PULL
 727   1                                              | P1MDOUT_B4__PUSH_PULL | P1MDOUT_B5__OPEN_DRAIN
 728   1                                              | P1MDOUT_B6__PUSH_PULL | P1MDOUT_B7__OPEN_DRAIN;
 729   1      
 730   1                              {
 731   2                                      P1&=~(1<<3);
 732   2                                      P1&=~(1<<2);
 733   2                                      _nop_();
 734   2                                      P1|=(1<<3);
 735   2                                      _nop_();
 736   2                                      P1|=(1<<2);
 737   2                                      _nop_();
 738   2                              }
 739   1      #if 1                   
 740   1                              P1SKIP &= ~(1<<2|1<<3);
 741   1                              
 742   1                              P1MDOUT = P1MDOUT_B0__OPEN_DRAIN | P1MDOUT_B1__OPEN_DRAIN
 743   1                                              | P1MDOUT_B2__OPEN_DRAIN | P1MDOUT_B3__OPEN_DRAIN
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 13  

 744   1                                              | P1MDOUT_B4__PUSH_PULL | P1MDOUT_B5__OPEN_DRAIN
 745   1                                              | P1MDOUT_B6__PUSH_PULL | P1MDOUT_B7__OPEN_DRAIN;
 746   1      
 747   1                              SMB0CF &= ~0x80;                                 // Reset communication
 748   1                              SMB0CF |= 0x80;
 749   1                              SMB0CN0_STA = 0;
 750   1                              SMB0CN0_STO = 0;
 751   1                              SMB0CN0_ACK = 0;
 752   1                              
 753   1                              SMB_BUSY = 0;// Free SMBus
 754   1      
 755   1      
 756   1      #endif                  
 757   1      //                      showReg();
 758   1      
 759   1      
 760   1      }
 761          
 762          //-----------------------------------------------------------------------------
 763          // SMB_Write
 764          //-----------------------------------------------------------------------------
 765          //
 766          // Return Value : None
 767          // Parameters   : None
 768          //
 769          // Writes a single byte to the slave with address specified by the <TARGET>
 770          // variable.
 771          // Calling sequence:
 772          // 1) Write target slave address to the <TARGET> variable
 773          // 2) Write outgoing data to the <SMB_DATA_OUT> variable array
 774          // 3) Call SMB_Write()
 775          //
 776          //-----------------------------------------------------------------------------
 777          bool SMB_Write(void) {
 778   1              uint32_t lcnt = 0;
 779   1      
 780   1      //      smbFCT[0] = SMB0CN0;
 781   1              while (SMB_BUSY)
 782   1                      ;                    // Wait for SMBus to be free.
 783   1              SMB_BUSY = 1;                       // Claim SMBus (set to busy)
 784   1              SMB_RW = 0;                         // Mark this transfer as a WRITE
 785   1              SMB0CN0_STA = 1;                    // Start transfer
 786   1              while (SMB_BUSY)
 787   1              {
 788   2                      lcnt++;
 789   2                      if(lcnt>0xff)//0x2d
 790   2                      {
 791   3      
 792   3                              lcnt = 0;
 793   3                              rst();
 794   3                              return false;
 795   3                      }
 796   2              }
 797   1              return true;                    // Wait for transfer to complete
 798   1      }
 799          
 800          //-----------------------------------------------------------------------------
 801          // SMB_Read
 802          //-----------------------------------------------------------------------------
 803          //
 804          // Return Value : None
 805          // Parameters   : None
 806          //
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 14  

 807          // Reads a single byte from the slave with address specified by the <TARGET>
 808          // variable.
 809          // Calling sequence:
 810          // 1) Write target slave address to the <TARGET> variable
 811          // 2) Call SMB_Write()
 812          // 3) Read input data from <SMB_DATA_IN> variable array
 813          //
 814          //-----------------------------------------------------------------------------
 815          bool SMB_Read(void) {
 816   1              uint32_t lcnt = 0;
 817   1      
 818   1              while (SMB_BUSY)
 819   1                      ;                    // Wait for bus to be free.
 820   1              SMB_BUSY = 1;                       // Claim SMBus (set to busy)
 821   1              SMB_RW = 1;                         // Mark this transfer as a READ
 822   1      
 823   1              SMB0CN0_STA = 1;                    // Start transfer
 824   1      #if 0
                      while (SMB_BUSY)
                              ;                    // Wait for transfer to complete
              #else
 828   1              while (SMB_BUSY)
 829   1              {
 830   2                      lcnt++;
 831   2                      if(lcnt>0xff)//0x1d
 832   2                      {
 833   3      
 834   3                              lcnt = 0;
 835   3                              rst();
 836   3                              return false;
 837   3                      }
 838   2              }
 839   1      #endif
 840   1              return true;
 841   1      }
 842          
 843          bool SMB0_I2C_MasterWrite(uint16_t RegAddr, uint16_t RegValue) {
 844   1              nWR = 4;
 845   1              TARGET = TARGET_ADDR;                    // Target the Slave for next SMBus
 846   1              SMB_DATA_OUT[0] = (RegAddr >> 8) & 0xff;
 847   1              SMB_DATA_OUT[1] = RegAddr & 0xff;
 848   1              SMB_DATA_OUT[2] = (RegValue >> 8) & 0xff;
 849   1              SMB_DATA_OUT[3] = RegValue & 0xff;
 850   1      #if MY_PRINTF_EN == 1
                      printf("Wr ");
                      printf("%04x",RegAddr);
              //      printf("%x",SMB_DATA_OUT[1]);
                      printf(" ");
                      printf("%04x",RegValue);
              //      printf("%x",SMB_DATA_OUT[3]);
                      printf("\r\n");
              #endif
 859   1      
 860   1              while(!SMB_Write())
 861   1              {
 862   2      #if MY_PRINTF_EN == 1
                              printf("SMB0_I2C_MasterWrite  ERROR!!!!!!");                                     // Initiate SMBus write
              #endif          
 865   2              }
 866   1              return true;
 867   1      }
 868          
 869          uint16_t SMB0_I2C_MasterRead(uint16_t RegAddr) {
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 15  

 870   1              uint16_t sRes;
 871   1      start:  nWR = 2;
 872   1              TARGET = TARGET_ADDR;                    // Target the Slave for next SMBus
 873   1              SMB_DATA_OUT[0] = (RegAddr >> 8) & 0xff;
 874   1              SMB_DATA_OUT[1] = RegAddr & 0xff;
 875   1              SMB_Write();                                     // Initiate SMBus write
 876   1              TARGET = TARGET_ADDR;
 877   1      //      SMB_Read();
 878   1              if(!SMB_Read())
 879   1              {
 880   2      #if MY_PRINTF_EN == 1
                              printf("SMB0_I2C_MasterRead  ERROR!!!!!!");                                      // Initiate SMBus write
              #endif
 883   2                      goto start;
 884   2              }
 885   1              sRes = (SMB_DATA_IN[0] << 8) & 0xff00 | SMB_DATA_IN[1] & 0xff;
 886   1      //      sRes = SMB_DATA_IN[0] << 8 | SMB_DATA_IN[1];
 887   1      #if MY_PRINTF_EN == 1     //yj20170414
                       printf("Rd ");
                       printf("%04x",RegAddr);
              //       printf("%x",SMB_DATA_OUT[1]);
                       printf("==");
                       printf("%04x",sRes);
                       printf("\r\n");
               #endif
 895   1      
 896   1              return sRes;
 897   1      }
 898          
 899          uint32_t get_int32(const uint8_t* pd) {
 900   1              uint32_t result = 0;
 901   1              uint8_t i;
 902   1              for (i = 0; i < 4; i++) {
 903   2                      result <<= 8;
 904   2                      result |= pd[i];
 905   2              }
 906   1              return result;
 907   1      }
 908          
 909          uint16_t get_int16(const unsigned char* pd) {
 910   1              uint16_t result = 0;
 911   1              int16_t i;
 912   1              for (i = 0; i < 2; i++) {
 913   2                      result <<= 8;
 914   2                      result |= pd[i];
 915   2              }
 916   1              return result;
 917   1      }
 918          
 919          static uint16_t bitset(uint16_t value, uint16_t new_value, int16_t lbit,
 920                          int16_t width) {
 921   1              uint16_t mask = ((ONE << width) - ONE);
 922   1              value &= ~(mask << lbit);
 923   1              value |= (new_value & mask) << lbit;
 924   1              return value;
 925   1      }
 926          
 927          static void GE_I2C2_bitset(uint16_t addr, uint16_t new_value, int16_t lbit,
 928                          int16_t width) {
 929   1              uint16_t readout = SMB0_I2C_MasterRead(addr);
 930   1              readout = bitset(readout, new_value, lbit, width);
 931   1              SMB0_I2C_MasterWrite(addr, readout);
 932   1      }
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 16  

 933          
 934          void GE_set_polarity(void) {
 935   1              //Cable side   6m awg30 cable
 936   1              GE_I2C2_bitset(0x8461, 0x1, 14, 1); //BR0
 937   1      
 938   1              //GE_I2C2_bitset(0x8561,0x1,14,1); //BR1
 939   1              //GE_I2C2_bitset(0x8661,0x1,14,1);  //BR2 
 940   1              //GE_I2C2_bitset(0x8761,0x1,14,1);  //BR3
 941   1      
 942   1              //Cable side  2m awg30 cable
 943   1              //GE_I2C2_bitset(0x8561,0x1,14,1); //BR1
 944   1              //GE_I2C2_bitset(0x8761,0x1,14,1);  //BR2
 945   1      
 946   1              //Gold Finger
 947   1              //GE_I2C2_bitset(0x8061,0x1,14,1);  //AR0
 948   1              //GE_I2C2_bitset(0x8161,0x1,14,1);  //AR1
 949   1              //GE_I2C2_bitset(0x8261,0x1,14,1);  //AR2
 950   1              //
 951   1      
 952   1      }
 953          
 954          //data uint16_t START_ADDRESS = 0xf800;
 955          #define START_ADDRESS          0xf800
 956          
 957          uint8_t test_write_buff[256] = {0xcc};
 958          void flash_program(void)
 959          {
 960   1      
 961   1      
 962   1              FLASH_Write(START_ADDRESS, test_write_buff, sizeof(test_write_buff));
 963   1      
 964   1      
 965   1      }
 966          
 967          
 968          void flash_test (void)
 969          {
 970   1         uint8_t temp_byte = 0x00;
 971   1         uint8_t test_write_buff[8] = "ABCDEFG";
 972   1         uint8_t test_write_buff2[3] = "HIJ";
 973   1         uint8_t test_write_buff0[8] = {0};
 974   1         
 975   1         uint8_t test_read_buff[8] = {0};
 976   1         uint8_t test_compare_buff[8] = "ABCDEFG";//1000001
 977   1         uint8_t i;
 978   1         uint8_t SAVE_SFRPAGE;
 979   1         bool error_flag = 0;
 980   1      
 981   1         SAVE_SFRPAGE = SFRPAGE;
 982   1         SFRPAGE = 0;
 983   1      
 984   1         DISP_EN = DISP_BC_DRIVEN;
 985   1      
 986   1         temp_byte = FLASH_ByteRead(0xfbff);
 987   1      
 988   1         FLASH_ByteWrite(START_ADDRESS, 0xA5);//   10100101
 989   1         // Initially erase the test page of flash
 990   1      //   FLASH_PageErase(0x1600);
 991   1      
 992   1         // BEGIN TEST===============================================================
 993   1      
 994   1      
 995   1      
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 17  

 996   1         
 997   1      
 998   1      
 999   1         // Check if able to write and read a series of bytes------------------------
1000   1         FLASH_Write(START_ADDRESS, test_write_buff, sizeof(test_write_buff));
1001   1      
1002   1         FLASH_Read(test_read_buff, START_ADDRESS, sizeof(test_write_buff));
1003   1      
1004   1         for (i = 0; i < sizeof(test_write_buff); i++)
1005   1         {
1006   2            if (test_read_buff[i] != test_write_buff[i])
1007   2            {
1008   3               error_flag = 1;
1009   3            }
1010   2         }
1011   1      
1012   1         // Check if able to write and read a series of bytes------------------------
1013   1      //   FLASH_Write(START_ADDRESS, test_write_buff0, sizeof(test_write_buff0));
1014   1         
1015   1      //   FLASH_PageErase(START_ADDRESS);
1016   1      
1017   1         // Check if able to Write and Read the flash--------------------------------
1018   1         FLASH_ByteWrite(START_ADDRESS, 0xA5);
1019   1      
1020   1         temp_byte = FLASH_ByteRead(START_ADDRESS);
1021   1      
1022   1         if (temp_byte != 0xA5)
1023   1         {
1024   2            error_flag = 1;
1025   2         }
1026   1      
1027   1         // Check if able to Erase a page of the flash-------------------------------
1028   1         FLASH_PageErase(START_ADDRESS);
1029   1      
1030   1         temp_byte = FLASH_ByteRead(START_ADDRESS);
1031   1      
1032   1         if (temp_byte != 0xFF)
1033   1         {
1034   2            error_flag = 1;
1035   2         }
1036   1      
1037   1      
1038   1      
1039   1         SFRPAGE = SAVE_SFRPAGE;
1040   1      }
1041          
1042          
1043          
1044          void PIC_MAIN() {
1045   1              int16_t prt_Res = -1;
1046   1              uint16_t tH, tL;
1047   1              // initialize the device
1048   1      ///**/  SYSTEM_Initialize();
1049   1      
1050   1              // When using interrupts, you need to set the Global and Peripheral Interrupt Enable bits
1051   1              // Use the following macros to:
1052   1      
1053   1              // Disable the Global Interrupts
1054   1              //INTERRUPT_GlobalInterruptDisable();
1055   1      
1056   1              // Disable the Peripheral Interrupts
1057   1              //INTERRUPT_PeripheralInterruptDisable();
1058   1      
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 18  

1059   1      ///**/  INTERRUPT_GlobalInterruptEnable();
1060   1      
1061   1              // Enable the Peripheral Interrupts
1062   1      ///**/  INTERRUPT_PeripheralInterruptEnable();
1063   1      
1064   1              int16_t r = 0;
1065   1              uint32_t counter = 0;
1066   1              uint32_t len;
1067   1              const int16_t* b_data;
1068   1              uint32_t enterPoint;
1069   1              uint32_t startAddr;
1070   1      #if DYCALCC==1
1071   1              uint32_t iCC_BASE = 0, iCC_EXT = 0;
1072   1      #endif  
1073   1              uint16_t dataAddr;
1074   1              uint32_t ramAddr;
1075   1              int32_t checkSum;
1076   1              int16_t x, i;
1077   1              uint16_t FW_regAddr_base[3] = { 0x9f00, 0x980D, 0x9814 };
1078   1              uint32_t checktime = 0;
1079   1              uint16_t status;
1080   1      
1081   1              uint16_t RdCheck = 1;
1082   1              uint16_t mdioData;
1083   1              uint16_t TotalError = 0;
1084   1              int16_t section;
1085   1              int16_t len_script;
1086   1      
1087   1      #if 0///**/
                      EN_1V0 = 0;
                      EN_1V8 = 0;
                      GE_RSTB = 0;
              #if MY_PRINTF_EN == 1
                      printf("This is a new test, now reset GE first \r\n");
              #endif    
                      T0_Waitms(150);  //150ms//1000
                      EN_1V0 = 1;//yj ?????
                      T0_Waitms(150);//150ms
                      EN_1V8 = 1;
                      T0_Waitms(250);//250ms
                      GE_RSTB = 1;//hardware reset
              #if MY_PRINTF_EN == 1
                      printf("Reset done! now load fw to GE\r\n");
              #endif
                      T0_Waitms(250);  //250ms
              #endif  
1105   1      //      T0_Waitms(1000);  //250ms
1106   1      
1107   1              b_data = (int16_t*) &fw_content[0]; //point to the program memory table:        fw_content
1108   1      
1109   1      #if 0//test     
              
                      do{     
                              TotalError = SMB0_I2C_MasterRead(0);
                              if(0x204c!=TotalError)
                                      printf("\r\n00x%04x\r\n", TotalError);
                      }while(0);
                      if(1){
                      //      TotalError = sizeof(uint32_t);
                              TotalError = SMB0_I2C_MasterRead(0);
                              printf("00x%04x", TotalError);
              
                              SMB0_I2C_MasterWrite(0x9811, 0xabcd);
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 19  

                              TotalError = SMB0_I2C_MasterRead(0x9811);
                              printf("0x98110x%04x", TotalError);
                              TotalError = 0;
                              SMB0_I2C_MasterWrite(0x9f0f, 0x800c);
                              LED1 = !LED1;
                              while(1)
                              {
                                      
                                      TotalError = SMB0_I2C_MasterRead(0x9f0f);
                                      printf("0x9f0f0x%04x", TotalError);
              //                      T0_Waitms(250);
                              }
                      }
              #endif
1136   1      
1137   1              len = get_int32(b_data + 6);  // 0x00, 0x00, 0x15, 0x64    12/2
*** WARNING C182 IN LINE 1137 OF D:\WorkSpace\MyCode\GE_EFM8LB12F64E-B-QFN32_YJ\GE_EFM8LB12F64E-B-QFN32_YJ\src\GE_EFM8LB
             -12F64E-B-QFN32_YJ_main.c: pointer to different objects
1138   1      #if MY_PRINTF_EN == 1
                      printf("\r\nlen:0x");
                      tH = len >> 16;
                      tL = len & 0xFFFF;
                      printf("%04x", tH);
                      printf("%04x", tL);
                      printf("\r\n");
              #endif
1146   1      
1147   1              enterPoint = get_int32(b_data + 4);       //0x01, 0x00, 0x15, 0x4C      8/2
*** WARNING C182 IN LINE 1147 OF D:\WorkSpace\MyCode\GE_EFM8LB12F64E-B-QFN32_YJ\GE_EFM8LB12F64E-B-QFN32_YJ\src\GE_EFM8LB
             -12F64E-B-QFN32_YJ_main.c: pointer to different objects
1148   1      #if MY_PRINTF_EN == 1
                      printf("\r\nenterPoint:0x");
                      tH = enterPoint >> 16;
                      tL = enterPoint & 0xFFFF;
                      printf("%04x", tH);
                      printf("%04x", tL);
                      printf("\r\n");
              #endif
1156   1      
1157   1              startAddr = get_int32(b_data + 8);  //0x0100 0000       16/2
*** WARNING C182 IN LINE 1157 OF D:\WorkSpace\MyCode\GE_EFM8LB12F64E-B-QFN32_YJ\GE_EFM8LB12F64E-B-QFN32_YJ\src\GE_EFM8LB
             -12F64E-B-QFN32_YJ_main.c: pointer to different objects
1158   1      #if MY_PRINTF_EN == 1
                      printf("\r\nstartAddr:0x");
              #if 1
                      tH = startAddr >> 16;
                      tL = startAddr & 0xFFFF;
                      printf("%04x", tH);
                      printf("%04x", tL);
              #else
              
                      printf("%08x", startAddr);
              #endif
                      printf("\r\n");
              #endif
1171   1      
1172   1              dataAddr = 10;   //   20/2
1173   1              ramAddr = startAddr;    //?????
1174   1              checkSum = 0;           //????
1175   1      
1176   1              section = len / 24 + 1;
1177   1      
1178   1              //load script
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 20  

1179   1      ///    GE_reload_default();
1180   1      
1181   1      
1182   1      #if DYCALCC==1
1183   1              for (i = 128; i <= 190; i++) {
1184   2                      iCC_BASE += EEPROM_Buffer[i];
1185   2      
1186   2              }
1187   1              for (i = 192; i <= 222; i++) {
1188   2                      iCC_EXT += EEPROM_Buffer[i];
1189   2      
1190   2              }
1191   1              EEPROM_Buffer[191] = iCC_BASE & 0xff;
1192   1              EEPROM_Buffer[223] = iCC_EXT & 0xff;
1193   1      #endif
1194   1      
1195   1      #if 1
1196   1              bTx_4th_byte_nack = true;
1197   1              SMB0_I2C_MasterWrite(0x980d, 0x0888);           //software reset
1198   1              SMB0_I2C_MasterWrite(0x980d, 0x0000);           //software reset
1199   1              bTx_4th_byte_nack = false;
1200   1      
1201   1              T0_Waitms(500);
1202   1      #endif
1203   1      
1204   1              do{ 
1205   2                      TotalError = SMB0_I2C_MasterRead(0);
1206   2                      if(0x204c!=TotalError)
1207   2                              printf("\r\n00x%04x\r\n", TotalError);
1208   2                      else
1209   2                              break;
1210   2              }while(0);
1211   1              TotalError = 0;
1212   1      
1213   1      #if 1    
1214   1              //golden eagle?firmware?????20170330
1215   1              printf("Load Firmware Start......");
1216   1      
1217   1              //load firmware
1218   1              for (x = 0; x < section; x++) {
1219   2                      checkSum = 0x800C;
1220   2                      SMB0_I2C_MasterWrite(FW_regAddr_base[0] + 12, ramAddr >> 16);
1221   2                      SMB0_I2C_MasterWrite(FW_regAddr_base[0] + 13, ramAddr & 0xFFFF);
1222   2      
1223   2                      checkSum += (ramAddr >> 16) + (ramAddr & 0xFFFF);
1224   2      
1225   2                      for (i = 0; i < 12; i++) // ramAddr 
1226   2                                      {
1227   3      #if MY_PRINTF_EN == 1
                                      printf("ramAddr=");
                                      tH = ramAddr >> 16;
                                      tL = ramAddr & 0xFFFF;
                                      printf("%04x", tH);
                                      printf("%04x", tL);
                                      printf("\r\n");
              #endif            
1235   3                              mdioData = get_int16(b_data + dataAddr);
*** WARNING C182 IN LINE 1235 OF D:\WorkSpace\MyCode\GE_EFM8LB12F64E-B-QFN32_YJ\GE_EFM8LB12F64E-B-QFN32_YJ\src\GE_EFM8LB
             -12F64E-B-QFN32_YJ_main.c: pointer to different objects
1236   3      #if MY_PRINTF_EN == 1
                                      printf("mdioData=");
                                      tH =  mdioData>> 16;
                                      tL =  mdioData& 0xFFFF;
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 21  

                                      printf("%04x", tH);
                                      printf("%04x", tL);
                                      printf("\r\n");
              #endif            
1244   3      
1245   3                              SMB0_I2C_MasterWrite(FW_regAddr_base[0] + i, mdioData);
1246   3                              //SMB0_I2C_MasterRead(FW_regAddr_base[0] + i);
1247   3                              checkSum += mdioData;
1248   3                              dataAddr += 1;   // 2/1
1249   3                              ramAddr += 2;
1250   3                      }
1251   2      
1252   2      #if MY_PRINTF_EN == 1
                              printf("checksum =");
                              tH =  checkSum>> 16;
                              tL =  checkSum& 0xFFFF;
                              printf("%04x", tH);
                              printf("%04x", tL);
                              printf("\r\n");
              #endif
1260   2                      SMB0_I2C_MasterWrite(FW_regAddr_base[0] + 14, (-checkSum) & 0xFFFF);
1261   2                      SMB0_I2C_MasterRead(FW_regAddr_base[0] + 14);
1262   2                      SMB0_I2C_MasterWrite(FW_regAddr_base[0] + 15, 0x800C);
1263   2      
1264   2                      checktime = 0;
1265   2                      status = SMB0_I2C_MasterRead(FW_regAddr_base[0] + 15);
1266   2      
1267   2                      while (status == 0x800C) {
1268   3                              checktime++;
1269   3                              if (checktime > 1000)
1270   3      #if MY_PRINTF_EN == 1
                                              printf("checktime =");
                                              tH =  checktime>> 16;
                                              tL =  checktime& 0xFFFF;
                                              printf("%04x", tH);
                                              printf("%04x", tL);
                                              printf("\r\n");
              #endif
1278   3                                                      ;
1279   3                              status = SMB0_I2C_MasterRead(FW_regAddr_base[0] + 15);
1280   3                      }
1281   2                      if (status != 0x0000) {
1282   3                              TotalError++;
1283   3      #if MY_PRINTF_EN == 1
                                      printf("checksum error!, total error    = ");
                                      tH =  TotalError>> 16;
                                      tL =  TotalError& 0xFFFF;
                                      printf("%04x", tH);
                                      printf("%04x", tL);
                                      printf("\r\n");
              #endif
1291   3                      }
1292   2              }       //end of the for loop
1293   1      
1294   1              SMB0_I2C_MasterWrite(FW_regAddr_base[0] + 12, enterPoint >> 16);
1295   1              SMB0_I2C_MasterWrite(FW_regAddr_base[0] + 13, enterPoint & 0xFFFF);
1296   1              checkSum = (enterPoint >> 16) + (enterPoint & 0xFFFF) + 0x4000;
1297   1              SMB0_I2C_MasterWrite(FW_regAddr_base[0] + 14, (-checkSum) & 0xFFFF);
1298   1              SMB0_I2C_MasterWrite(FW_regAddr_base[0] + 15, 0x4000);
1299   1      
1300   1              if (RdCheck) {
1301   2                      checktime = 0;
1302   2                      status = SMB0_I2C_MasterRead(FW_regAddr_base[0] + 15);
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 22  

1303   2                      while (status == 0x4000) {
1304   3                              checktime++;
1305   3                              if (checktime > 1000)
1306   3      #if MY_PRINTF_EN == 1
                                              printf("checktime =");
                                              tH =  checktime>> 16;
                                              tL =  checktime& 0xFFFF;
                                              printf("%04x", tH);
                                              printf("%04x", tL);
                                              printf("\r\n");
              #endif
1314   3                                                      ;
1315   3                              status = SMB0_I2C_MasterRead(FW_regAddr_base[0] + 15);
1316   3                      }
1317   2              }
1318   1      
1319   1              for (i = 0; i < 1024; i++) {
1320   2                      for (x = 0; x < 1024; x++) {
1321   3                              ;
1322   3                      }
1323   2              }
1324   1      #if MY_PRINTF_EN == 1
                      printf("check the result:\r\n");
              #endif
1327   1              status = SMB0_I2C_MasterRead(0x9814);
1328   1      #if MY_PRINTF_EN == 1
                      printf("0x9814's  value:");
                      tH =  status>> 16;
                      tL =  status& 0xFFFF;
                      printf("%04x", tH);
                      printf("%04x", tL);
              
                      printf("\r\n");
                      printf("If there is checksum error, total error  = ");
                      tH =  TotalError>> 16;
                      tL =  TotalError& 0xFFFF;
                      printf("%04x", tH);
                      printf("%04x", tL);
                      printf("\r\n");
              #endif
1343   1      
1344   1              {       //load default:
1345   2      #if MY_PRINTF_EN == 1
                              printf("load default: ");
                              printf("\r\n");
              #endif
1349   2                      SMB0_I2C_MasterWrite(0x9818, 0x5000);
1350   2                      status = SMB0_I2C_MasterRead(0x9818);
1351   2      
1352   2                      while (0x0500 != status) {
1353   3      #if MY_PRINTF_EN == 1
                                      printf("load default: 0x9818's  value:");
                                      tH =  status>> 16;
                                      tL =  status& 0xFFFF;
                                      printf("%04x", tH);
                                      printf("%04x", tL);
                                      printf("\r\n");
              #endif
1361   3                              T0_Waitms(150);
1362   3                              status = SMB0_I2C_MasterRead(0x9818);
1363   3                      }
1364   2              }
1365   1      
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 23  

1366   1              {       //load 25g:
1367   2      #if MY_PRINTF_EN == 1
                              printf("load 25g: ");
                              printf("\r\n");
              #endif
1371   2                      SMB0_I2C_MasterWrite(0x9818, 0x5020);
1372   2                      status = SMB0_I2C_MasterRead(0x9818);
1373   2                      while (0x0500 != status) {
1374   3      #if MY_PRINTF_EN == 1
                                                              printf("load default: 0x9818's  value:");
                                                              tH =  status>> 16;
                                                              tL =  status& 0xFFFF;
                                                              printf("%04x", tH);
                                                              printf("%04x", tL);
                                                              printf("\r\n");
              #endif
1382   3                              T0_Waitms(300);
1383   3                              status = SMB0_I2C_MasterRead(0x9818);
1384   3                      }
1385   2              }
1386   1      
1387   1      #if 0
                      {       //load 10g:
                              SMB0_I2C_MasterWrite( 0x9818,0x5030);
                              status = SMB0_I2C_MasterRead(0x9818);
                              while(0x0500 != status)
                              status = SMB0_I2C_MasterRead(0x9818);
              
                      }
              #endif    
1396   1      printf("Load Firmware End......");
1397   1      
1398   1      //load firmware
1399   1      #endif    
1400   1      
1401   1              len_script = sizeof(script_content) / 4;
1402   1      
1403   1              for (i = 0; i < len_script; i++) {
1404   2                      SMB0_I2C_MasterWrite(
1405   2                                      (script_content[i * 4] << 8) | script_content[i * 4 + 1],
1406   2                                      (script_content[i * 4 + 2] << 8) | script_content[i * 4 + 3]);
1407   2              }
1408   1      
1409   1              T0_Waitms(500);
1410   1      
1411   1              SMB0_I2C_MasterWrite(0x980d, 0x0777);
1412   1              SMB0_I2C_MasterWrite(0x980d, 0x0000);   //Logic Reset
1413   1      
1414   1              T0_Waitms(500);
1415   1              GE_set_polarity();
1416   1      
1417   1      //old firmware location!//        
1418   1      
1419   1      #if 0///**/
                      //Temperature test
              
                      adc_channel_t AN1_Channel = channel_Temp;
                      int16_t Temperature;
                      float adc_float,temp_float;
                      uint16_t convertedValue,convertedValue_HighRange,convertedValue_LowRange;
              
                      ADC_Initialize();
                      x=0;
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 24  

                      i=0;
              
              #if STRESSTEST == 1
                      testReadWrite(200000, 0x8079);
              #endif
              
              #if MY_PRINTF_EN == 1
                      DATAEE_WriteByte(1,0x66);
                      uint8_t cRes = DATAEE_ReadByte(1);
                      printf("Write to eeprom:0x66, read result: 0x ");
                      printf(cRes);
                      printf("\r\n");
              #endif
              #endif
1443   1              printf("MCU START OK......");
1444   1      
1445   1      #if 1///**/
1446   1      
1447   1      flash_program();
1448   1      
1449   1      
1450   1      #else
                      while (1)
                      {
                              if( EEPROM_Buffer[78] == 2 )                            //write  xxxxxx11;2
                              {
                                      GE_I2C2_ByteHLWrite( EEPROM_Buffer[74], EEPROM_Buffer[75], EEPROM_Buffer[76], EEPROM_Buffer[77] );
                                      EEPROM_Buffer[78] = 0;    //complete
                              }
                              else if( EEPROM_Buffer[78] == 1 )                       //read   xxxxxx01;1
                              {
                                      uint16_t rValue;
              #if MY_PRINTF_EN == 1
                                      printf("\r\n");
                                      printf("zhuanfa 0x");
                                      printf(EEPROM_Buffer[74]);
                                      printf(EEPROM_Buffer[75]);
                                      printf("\r\n");
              #endif                    
                                      rValue = GE_I2C2_ByteHLRead( EEPROM_Buffer[74], EEPROM_Buffer[75] );
              #if MY_PRINTF_EN == 1         
                                      printf("read: ");
                                      uart_send_hex16(rValue);                        //tH);//
                                      printf("\r\n");
              #endif
                                      EEPROM_Buffer[76] = rValue >> 8;
                                      EEPROM_Buffer[77] = rValue & 0x00ff;
                                      EEPROM_Buffer[78] = 0;    //complete
                              }
              #if 0           
                              x++;
                              if(x > 30000)   //history:      x>10 
                              {
                                      /*                i++;
                                       if(i > 30000)   
                                       {
                                       */
                                      /*
                                       if(LPMODE==1)
                                       {
                                       EN_1V0 = 0;
                                       EN_1V8 = 0; 
                                       T0_Waitms(200);
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 25  

                                       }
                                       else
                                       {
                                       EN_1V0 = 1;
                                       T0_Waitms(200);
                                       EN_1V8 = 1; 
                                       }*/
                                      FVRCON = 0xB5;   //4VT
                                      T0_Waitms(10);
                                      ADC_StartConversion(AN1_Channel);
                                      while(!ADC_IsConversionDone());
                                      convertedValue_HighRange = ADC_GetConversionResult();
                                      FVRCON = 0xA5;//2VT 
                                      T0_Waitms(10);
                                      ADC_StartConversion(AN1_Channel);
                                      while(!ADC_IsConversionDone());
                                      convertedValue_LowRange = ADC_GetConversionResult();
                                      convertedValue = convertedValue_LowRange-convertedValue_HighRange;
              
                                      {
                                              adc_float = (float) convertedValue;
                                              temp_float = -40+(0.659 - (3.3/2)*(adc_float/1023))/0.00132;
                                              float temp_abs = (temp_float)*256;
                                              Temperature = (int16_t) temp_abs;
                                              EEPROM_Buffer[22] = Temperature >> 8;           //
                                              EEPROM_Buffer[23] = Temperature & 0x00ff;
              #if MY_PRINTF_EN == 1
                                              uart_send_dec(convertedValue);printf('\r'); printf('\n');
                                              printf('m'); printf('\r'); printf('\n');
                                              uart_send_dec(Temperature);
                                              printf('\r'); printf('\n');
              #endif  
                                      }
                                      /*                               i = 0;
                                       }
                                       */x=0;
                              }
              
              #if 0
              
                              uint16_t rValue2;
                              rValue2 = GE_I2C2_ByteHLRead(script_content[0],script_content[1]);
                              EEPROM_Buffer[79] = rValue2 >> 8;
                              EEPROM_Buffer[80] = rValue2 & 0x00ff;
              
              #endif          
              #endif
                      }
              
              #endif
1542   1      
1543   1              while(1);
1544   1              
1545   1      
1546   1      
1547   1      }
*** WARNING C280 IN LINE 1046 OF D:\WorkSpace\MyCode\GE_EFM8LB12F64E-B-QFN32_YJ\GE_EFM8LB12F64E-B-QFN32_YJ\src\GE_EFM8LB
             -12F64E-B-QFN32_YJ_main.c: 'tH': unreferenced local variable
*** WARNING C280 IN LINE 1046 OF D:\WorkSpace\MyCode\GE_EFM8LB12F64E-B-QFN32_YJ\GE_EFM8LB12F64E-B-QFN32_YJ\src\GE_EFM8LB
             -12F64E-B-QFN32_YJ_main.c: 'tL': unreferenced local variable
1548          
1549          
1550          
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 26  

1551          //-----------------------------------------------------------------------------
1552          // Main Routine
1553          //-----------------------------------------------------------------------------
1554          //
1555          // Main routine performs all configuration tasks, then loops forever sending
1556          // and receiving SMBus data to the slave.
1557          //
1558          //-----------------------------------------------------------------------------
1559          void main(void) {
1560   1              volatile uint8_t dat;               // Test counter
1561   1              volatile uint8_t data_count;        // SMB_DATA_IN and SMB_DATA_OUT counter
1562   1              uint16_t i;                          // Dummy variable counters
1563   1              volatile uint16_t sI2C_rd;
1564   1              
1565   1      //      test_tempsensor();
1566   1      
1567   1      //      flash_test();
1568   1      //      flash_program();
1569   1              FLASH_PageErase(START_ADDRESS);
1570   1      
1571   1              enter_BusFreeMode_from_RESET();
1572   1              UART1_initStdio(24500000, 115200);
1573   1      
1574   1              DISP_EN = DISP_BC_DRIVEN;           // EFM8 does not drive display
1575   1      
1576   1              // If slave is holding SDA low because of an improper SMBus reset or error
1577   1              while (!SDA) {
1578   2                      // Provide clock pulses to allow the slave to advance out
1579   2                      // of its current state. This will allow it to release SDA.
1580   2                      XBR2 = XBR2_XBARE__ENABLED;      // Enable Crossbar
1581   2                      SCL = 0;                         // Drive the clock low
1582   2                      for (i = 0; i < 255; i++)
1583   2                              ;        // Hold the clock low
1584   2                      SCL = 1;                         // Release the clock
1585   2                      while (!SCL)
1586   2                              ;                     // Wait for open-drain
1587   2                                                                        // clock output to rise
1588   2                      for (i = 0; i < 10; i++)
1589   2                              ;         // Hold the clock high
1590   2                      XBR2 = XBR2_XBARE__DISABLED;     // Disable Crossbar
1591   2              }
1592   1      
1593   1              enter_DefaultMode_from_BusFreeMode();
1594   1      
1595   1              LED1 = LED_OFF;
1596   1      
1597   1              // TEST CODE----------------------------------------------------------------
1598   1      
1599   1              dat = 0;                            // Output data counter
1600   1              NUM_ERRORS = 0;                     // Error counter
1601   1              {
1602   2                      IE_EA = 0;
1603   2                      SFRPAGE = PG3_PAGE;
1604   2                      I2C0CN0 &= ~I2C0CN0_BUSY__BMASK;           // Clear BUSY bit
1605   2                      I2C0FCN0 |= I2C0FCN0_RFLSH__FLUSH | I2C0FCN0_TFLSH__FLUSH;
1606   2                      IE_EA = 1;
1607   2              }
1608   1      
1609   1      
1610   1              flash_test();
1611   1              test_tempsensor();
1612   1      
1613   1              
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 27  

1614   1      //      while (1) 
1615   1              {
1616   2      #if 1
1617   2      
1618   2      #ifndef TEST_I2C2
1619   2                      {
1620   3                              PIC_MAIN();
1621   3                      }
1622   2      #endif
1623   2      
1624   2                      // SMBus Write Sequence
1625   2      #if 0
                              for (data_count = 0; data_count < NUM_BYTES_WR; data_count++)
                              {
                                      SMB_DATA_OUT[data_count] = dat; // Define next outgoing byte
                                      dat++;
                              }
              #else
1632   2                      SMB_DATA_OUT[0] = 0x98;
1633   2                      SMB_DATA_OUT[1] = 0x11;
1634   2                      SMB_DATA_OUT[2] = 0xab;
1635   2                      SMB_DATA_OUT[3] = 0xcd;
1636   2      #endif
1637   2                      TARGET = TARGET_ADDR;             // Target the Slave for next SMBus
1638   2                                                                                        // transfer
1639   2                      SMB_Write();                     // Initiate SMBus write
1640   2      
1641   2                      // SMBus Read Sequence
1642   2                      TARGET = TARGET_ADDR;             // Target the Slave for next SMBus
1643   2                                                                                        // transfer
1644   2      //      SMB_Read();
1645   2      
1646   2                      // Check transfer data
1647   2                      for (data_count = 0; data_count < NUM_BYTES_RD; data_count++) {
1648   3                              // Received data match transmit data?
1649   3                              if (SMB_DATA_IN[data_count] != SMB_DATA_OUT[data_count]) {
1650   4                                      NUM_ERRORS++;              // Increment error counter if no
1651   4                                                                                         // match
1652   4                              }
1653   3                      }
1654   2      #if 0
                              // Indicate that an error has occurred (LED no longer lit)
                              if (NUM_ERRORS > 0)
                              {
                                      LED1 = LED_OFF;
                              }
                              else
              #endif
1662   2      #else
              //              for (i = 0; i < 255; i++) 
                              {
              #if 1           
                                      sI2C_rd = SMB0_I2C_MasterRead(0);
                                      
                                      SMB0_I2C_MasterWrite(0x980d, 0xabcd);
                                      sI2C_rd = SMB0_I2C_MasterRead(0x980d);
                                      if (0xabcd != sI2C_rd)
                                      printf( "SMB0_I2C    ===============Read================== 0x9811 ============Error!!!->0x%02X \r\n ", 
             -sI2C_rd);
              
                                      
              
                                      sI2C_rd = SMB0_I2C_MasterRead(0x00);
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 28  

                                      /*while(1)*/SMB0_I2C_MasterWrite(0x9811, 0xabcd/*i*/);
                                      if (0x204c != sI2C_rd)
                                              printf( "SMB0_I2C    ===============Read================== 0x0 ============Error!!!->0x%02X \r\n ", sI
             -2C_rd);
              //                      else
              //                              printf("SMB0_I2C Read 0x0 OK  !\r\n");
              
              #endif
              //                      if (1 == SMB0_I2C_MasterWrite(0x9811, 0xabcd/*i*/)) {
              //                              sI2C_rd = SMB0_I2C_MasterRead(0x9811);
              //                              if (i != sI2C_rd)
              //                                      LED1 = !LED1;
              //                                      printf(                                         "SMB0_I2C ================Write========================= 0x9811 ============Error!!!\r
             -\n");
              //                              else {
              //                                      LED1 = !LED1;
              //                                      printf("SMB0_I2C Write & Read 0x9811 OK !\r\n");
              //                              }
                              }
              
              #if 0
              
              #endif
              
              #endif
1699   2                      {
1700   3      //                      LED1 = !LED1;
1701   3                      }
1702   2      
1703   2                      // Run to here to view the SMB_DATA_IN and SMB_DATA_OUT variable arrays
1704   2      
1705   2                      T0_Waitms(500);                  // Wait 50 ms until the next cycle
1706   2                                                                                       // so that LED blinks slow enough to see
1707   2              }
1708   1      
1709   1              // END TEST CODE------------------------------------------------------------
1710   1      
1711   1      }
*** WARNING C280 IN LINE 1563 OF D:\WorkSpace\MyCode\GE_EFM8LB12F64E-B-QFN32_YJ\GE_EFM8LB12F64E-B-QFN32_YJ\src\GE_EFM8LB
             -12F64E-B-QFN32_YJ_main.c: 'sI2C_rd': unreferenced local variable
1712          
1713          //-----------------------------------------------------------------------------
1714          // Support Functions
1715          //-----------------------------------------------------------------------------
1716          
1717          
1718          
1719          //-----------------------------------------------------------------------------
1720          // T0_Waitms
1721          //-----------------------------------------------------------------------------
1722          //
1723          // Return Value : None
1724          // Parameters   :
1725          //   1) uint8_t ms - number of milliseconds to wait
1726          //                        range is full range of character: 0 to 255
1727          //
1728          // Configure Timer0 to wait for <ms> milliseconds using SYSCLK as its time
1729          // base.
1730          //
1731          //-----------------------------------------------------------------------------
1732          void T0_Waitms(uint8_t ms) {
1733   1              TCON &= ~0x30;                      // Stop Timer0; Clear TCON_TF0
1734   1              TMOD &= ~0x0f;                      // 16-bit free run mode
C51 COMPILER V9.53.0.0   GE_EFM8LB12F64E_B_QFN32_YJ_MAIN                                   01/19/2018 14:19:28 PAGE 29  

1735   1              TMOD |= 0x01;
1736   1      
1737   1              CKCON0 |= 0x04;                     // Timer0 counts SYSCLKs
1738   1      
1739   1              while (ms) {
1740   2                      TCON_TR0 = 0;                    // Stop Timer0
1741   2                      TH0 = ((-SYSCLK / 1000) >> 8);     // Overflow in 1ms
1742   2                      TL0 = ((-SYSCLK / 1000) & 0xFF);
1743   2                      TCON_TF0 = 0;                    // Clear overflow indicator
1744   2                      TCON_TR0 = 1;                    // Start Timer0
1745   2                      while (!TCON_TF0)
1746   2                              ;               // Wait for overflow
1747   2                      ms--;                            // Update ms counter
1748   2              }
1749   1      
1750   1              TCON_TR0 = 0;                       // Stop Timer0
1751   1      }
1752          
1753          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   3654    ----
   CONSTANT SIZE    =   7077    ----
   XDATA SIZE       =    273     179
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      5       1
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  7 WARNING(S),  0 ERROR(S)
